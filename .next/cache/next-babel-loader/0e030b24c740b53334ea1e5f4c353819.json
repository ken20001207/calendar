{"ast":null,"code":"import _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\imyua\\\\dev\\\\calendar\\\\pages\\\\index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Container from \"@material-ui/core/container\";\nimport DayView from \"../comps/DayView\";\nimport fetch from \"isomorphic-unfetch\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { User, Calendar, Event } from \"../classes\";\nimport DayPicker from \"react-day-picker\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Button from \"@material-ui/core/Button\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport Paper from \"@material-ui/core/Paper\";\n\nfunction startOfDay(date) {\n  if (!date instanceof Date) {\n    console.error(\"傳入的時間不是合法的 Date 物件。\");\n    return null;\n  }\n\n  date = new Date(date);\n  var time = new Date();\n  time.setTime(date.getTime());\n  time.setHours(0, 0, 0);\n  return time;\n}\n\nfunction endOfDay(date) {\n  if (!date instanceof Date) {\n    console.error(\"傳入的時間不是合法的 Date 物件。\");\n    return null;\n  }\n\n  date = new Date(date);\n  var time = new Date();\n  time.setTime(date.getTime());\n  time.setHours(23, 59, 59);\n  return time;\n}\n\nfunction fillEvents(events, date) {\n  var filled = new Array();\n  var time = startOfDay(date);\n  events.map(function (event) {\n    var startTime = new Date(event.startTime);\n    var endTime = new Date(event.endTime);\n\n    if (startTime.getHours() > endTime.getHours()) {\n      endTime.setHours(23, 59, 59);\n    }\n\n    filled.push(new Event({\n      startTime: time,\n      endTime: startTime\n    }, true));\n    filled.push(event);\n    time.setTime(endTime.getTime());\n  });\n  filled.push(new Event({\n    startTime: time,\n    endTime: endOfDay(date)\n  }, true));\n  return filled;\n}\n\nfunction eventsToDispay(calendars, date) {\n  var eventsToDispay = [];\n  calendars.map(function (calendar) {\n    calendar = new Calendar(calendar);\n    calendar.events.map(function (event) {\n      if (event.startTime.getFullYear() == date.getFullYear() && event.startTime.getMonth() == date.getMonth() && event.startTime.getDate() == date.getDate() && !event.isAllDayEvent()) {\n        eventsToDispay.push(event);\n      }\n    });\n  });\n  eventsToDispay.sort(function (a, b) {\n    return a.startTime - b.startTime;\n  });\n  return eventsToDispay;\n}\n\nvar index =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(index, _React$Component);\n\n  function index(props) {\n    var _this;\n\n    _classCallCheck(this, index);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(index).call(this, props));\n    _this.state = {\n      selectedDay: new Date(),\n      eventsToDispay: [],\n      userdata: {},\n      filled: [],\n      inputing: {\n        title: \"\",\n        date: \"\",\n        time: \"\"\n      },\n      editingEvent: false,\n      creatingEvent: false,\n      selectedEvent: new Event({\n        title: \"選中的事件\",\n        startTime: new Date(),\n        endTime: new Date(),\n        color: [\"#fd3721\", \"#b721ff\"]\n      })\n    };\n    _this.handleDayClick = _this.handleDayClick.bind(_assertThisInitialized(_this));\n    _this.openEventEditDialog = _this.openEventEditDialog.bind(_assertThisInitialized(_this));\n    _this.closeEventEditDialog = _this.closeEventEditDialog.bind(_assertThisInitialized(_this));\n    _this.openEventCreateDialog = _this.openEventCreateDialog.bind(_assertThisInitialized(_this));\n    _this.closeEventCreateDialog = _this.closeEventCreateDialog.bind(_assertThisInitialized(_this));\n    _this.updateEvent = _this.updateEvent.bind(_assertThisInitialized(_this));\n    _this.createEvent = _this.createEvent.bind(_assertThisInitialized(_this));\n    _this.handleTitleChange = _this.handleTitleChange.bind(_assertThisInitialized(_this));\n    _this.handleDateChange = _this.handleDateChange.bind(_assertThisInitialized(_this));\n    _this.handleTimeChange = _this.handleTimeChange.bind(_assertThisInitialized(_this));\n    _this.handleCalendarChange = _this.handleCalendarChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(index, [{\n    key: \"handleDayClick\",\n    value: function handleDayClick(day, _ref) {\n      var selected;\n      return _regeneratorRuntime.async(function handleDayClick$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              selected = _ref.selected;\n              this.setState({\n                selectedDay: selected ? new Date() : day\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        var filled = fillEvents(_this2.props.eventsToDispay, new Date());\n\n        _this2.setState({\n          filled: filled,\n          userdata: _this2.props.userdata\n        });\n      }, 200);\n    }\n  }, {\n    key: \"openEventEditDialog\",\n    value: function openEventEditDialog(event) {\n      this.setState({\n        selectedEvent: event,\n        editingEvent: true,\n        inputing: {\n          title: event.title,\n          date: event.startTime.getFullYear() + \"/\" + event.startTime.getMonth() + \"/\" + event.startTime.getDate(),\n          time: event.startTime.getHours() + \":\" + event.startTime.getMinutes() + \"~\" + event.endTime.getHours() + \":\" + event.endTime.getMinutes()\n        }\n      });\n    }\n  }, {\n    key: \"closeEventEditDialog\",\n    value: function closeEventEditDialog() {\n      this.setState({\n        editingEvent: false\n      });\n    }\n  }, {\n    key: \"openEventCreateDialog\",\n    value: function openEventCreateDialog() {\n      this.setState({\n        creatingEvent: true,\n        inputing: {\n          date: this.state.selectedDay.getFullYear() + \"/\" + this.state.selectedDay.getMonth() + \"/\" + this.state.selectedDay.getDate()\n        }\n      });\n    }\n  }, {\n    key: \"closeEventCreateDialog\",\n    value: function closeEventCreateDialog() {\n      this.setState({\n        creatingEvent: false\n      });\n    }\n  }, {\n    key: \"createEvent\",\n    value: function createEvent() {\n      var _this3 = this;\n\n      var newStartTime, newEndTime, newdata, res, json, userdata, etd, filled;\n      return _regeneratorRuntime.async(function createEvent$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              newStartTime = new Date();\n              newEndTime = new Date();\n              newStartTime.setFullYear(this.state.inputing.date.split(\"/\")[0], this.state.inputing.date.split(\"/\")[1], this.state.inputing.date.split(\"/\")[2]);\n              newEndTime.setFullYear(this.state.inputing.date.split(\"/\")[0], this.state.inputing.date.split(\"/\")[1], this.state.inputing.date.split(\"/\")[2]);\n              newStartTime.setHours(this.state.inputing.time.split(\"~\")[0].split(\":\")[0], this.state.inputing.time.split(\"~\")[0].split(\":\")[1]);\n              newEndTime.setHours(this.state.inputing.time.split(\"~\")[1].split(\":\")[0], this.state.inputing.time.split(\"~\")[1].split(\":\")[1]);\n              newdata = new User(this.state.userdata);\n              newdata.calendars.map(function (calendar) {\n                if (calendar.title == _this3.state.inputing.calendar) {\n                  calendar.events.push(new Event({\n                    title: _this3.state.inputing.title,\n                    startTime: newStartTime,\n                    endTime: newEndTime,\n                    color: calendar.color\n                  }));\n                }\n              });\n              _context2.next = 10;\n              return _regeneratorRuntime.awrap(fetch(\"http://localhost:3000/api/updateuserdata\", {\n                method: \"post\",\n                body: _JSON$stringify({\n                  calendars: newdata.calendars\n                })\n              }));\n\n            case 10:\n              this.setState({\n                creatingEvent: false\n              });\n              _context2.next = 13;\n              return _regeneratorRuntime.awrap(fetch(\"http://localhost:3000/api/getuserdata\"));\n\n            case 13:\n              res = _context2.sent;\n              _context2.next = 16;\n              return _regeneratorRuntime.awrap(res.json());\n\n            case 16:\n              json = _context2.sent;\n              userdata = new User(json);\n              etd = eventsToDispay(userdata.calendars, new Date());\n              filled = fillEvents(eventsToDispay(userdata.calendars, new Date()), new Date());\n              this.setState({\n                userdata: userdata,\n                filled: filled,\n                eventsToDispay: etd\n              });\n\n            case 21:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this);\n    }\n  }, {\n    key: \"updateEvent\",\n    value: function updateEvent() {\n      var _this4 = this;\n\n      var newStartTime, newEndTime, newdata, res, json, userdata, etd, filled;\n      return _regeneratorRuntime.async(function updateEvent$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              newStartTime = new Date();\n              newEndTime = new Date();\n              newStartTime.setFullYear(this.state.inputing.date.split(\"/\")[0], this.state.inputing.date.split(\"/\")[1], this.state.inputing.date.split(\"/\")[2]);\n              newEndTime.setFullYear(this.state.inputing.date.split(\"/\")[0], this.state.inputing.date.split(\"/\")[1], this.state.inputing.date.split(\"/\")[2]);\n              newStartTime.setHours(this.state.inputing.time.split(\"~\")[0].split(\":\")[0], this.state.inputing.time.split(\"~\")[0].split(\":\")[1]);\n              newEndTime.setHours(this.state.inputing.time.split(\"~\")[1].split(\":\")[0], this.state.inputing.time.split(\"~\")[1].split(\":\")[1]);\n              newdata = new User(this.state.userdata);\n              newdata.calendars.map(function (calendar) {\n                calendar.events.map(function (event) {\n                  if (event.id == _this4.state.selectedEvent.id) {\n                    event.startTime = newStartTime;\n                    event.endTime = newEndTime;\n                    event.title = _this4.state.inputing.title;\n                  }\n                });\n              });\n              _context3.next = 10;\n              return _regeneratorRuntime.awrap(fetch(\"http://localhost:3000/api/updateuserdata\", {\n                method: \"post\",\n                body: _JSON$stringify({\n                  calendars: newdata.calendars\n                })\n              }));\n\n            case 10:\n              this.setState({\n                editingEvent: false\n              });\n              _context3.next = 13;\n              return _regeneratorRuntime.awrap(fetch(\"http://localhost:3000/api/getuserdata\"));\n\n            case 13:\n              res = _context3.sent;\n              _context3.next = 16;\n              return _regeneratorRuntime.awrap(res.json());\n\n            case 16:\n              json = _context3.sent;\n              userdata = new User(json);\n              etd = eventsToDispay(userdata.calendars, new Date());\n              filled = fillEvents(eventsToDispay(userdata.calendars, new Date()), new Date());\n              this.setState({\n                userdata: userdata,\n                filled: filled,\n                eventsToDispay: etd\n              });\n\n            case 21:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, this);\n    }\n  }, {\n    key: \"handleTitleChange\",\n    value: function handleTitleChange(e) {\n      this.state.inputing.title = e.target.value;\n    }\n  }, {\n    key: \"handleDateChange\",\n    value: function handleDateChange(e) {\n      this.state.inputing.date = e.target.value;\n    }\n  }, {\n    key: \"handleTimeChange\",\n    value: function handleTimeChange(e) {\n      this.state.inputing.time = e.target.value;\n    }\n  }, {\n    key: \"handleCalendarChange\",\n    value: function handleCalendarChange(e) {\n      this.state.inputing.calendar = e.target.value;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.userdata.calendars != undefined) {\n        var calendarOptions = this.state.userdata.calendars.map(function (calendar) {\n          return __jsx(\"option\", {\n            key: calendar.title,\n            value: calendar.title,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 232\n            },\n            __self: this\n          }, calendar.title);\n        });\n        var filled = fillEvents(eventsToDispay(this.state.userdata.calendars, this.state.selectedDay), this.state.selectedDay);\n        var dayDescription = \"\";\n        var DayA = new Date(this.state.selectedDay);\n        var DayB = new Date();\n        DayA.setHours(12, 0, 0);\n        DayB.setHours(12, 0, 0);\n\n        if (_parseInt((DayA - DayB) / 3600000) < 0) {\n          if (_parseInt((DayA - DayB) / 3600000) == 0) dayDescription = \"今天\";else if (_parseInt((DayA - DayB) / 3600000) == -24) dayDescription = \"昨天\";else if (_parseInt((DayA - DayB) / 3600000) == -48) dayDescription = \"前天\";else dayDescription = _parseInt((DayA - DayB) / 3600000 / -24) + \" 天前\";\n        } else {\n          if (_parseInt((DayA - DayB) / 3600000) == 0) dayDescription = \"今天\";else if (_parseInt((DayA - DayB) / 3600000) == 23) dayDescription = \"明天\";else if (_parseInt((DayA - DayB) / 3600000) == 47) dayDescription = \"後天\";else dayDescription = _parseInt((DayA - DayB) / 3600000 / 24) + 1 + \" 天後\";\n        }\n\n        return __jsx(Container, {\n          maxWidth: \"md\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257\n          },\n          __self: this\n        }, __jsx(Grid, {\n          container: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258\n          },\n          __self: this\n        }, __jsx(Grid, {\n          item: true,\n          xs: 4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          style: {\n            marginTop: 60\n          },\n          className: \"jsx-2272562205\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          },\n          __self: this\n        }, __jsx(Paper, {\n          elevation: 20,\n          style: {\n            backgroundColor: \"#444444\",\n            padding: 16\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261\n          },\n          __self: this\n        }, __jsx(DayPicker, {\n          selectedDays: this.state.selectedDay,\n          onDayClick: this.handleDayClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262\n          },\n          __self: this\n        }))), __jsx(\"div\", {\n          style: {\n            marginLeft: 26,\n            marginTop: 60\n          },\n          className: \"jsx-2272562205\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265\n          },\n          __self: this\n        }, __jsx(\"h2\", {\n          style: {\n            color: \"white\",\n            marginBottom: 16\n          },\n          className: \"jsx-2272562205\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        }, this.state.selectedDay.getFullYear(), \" / \", this.state.selectedDay.getMonth() + 1, \" / \", this.state.selectedDay.getDate()), __jsx(\"p\", {\n          style: {\n            color: \"gray\",\n            marginTop: 0\n          },\n          className: \"jsx-2272562205\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269\n          },\n          __self: this\n        }, dayDescription))), __jsx(Grid, {\n          item: true,\n          xs: 8,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          style: {\n            overflowY: \"scroll\",\n            maxHeight: \"90vh\",\n            padding: 24,\n            marginLeft: 60\n          },\n          className: \"jsx-2272562205\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 273\n          },\n          __self: this\n        }, __jsx(DayView, {\n          events: filled,\n          openEventEditDialog: this.openEventEditDialog,\n          openEventCreateDialog: this.openEventCreateDialog,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281\n          },\n          __self: this\n        })))), __jsx(Dialog, {\n          open: this.state.editingEvent,\n          \"aria-labelledby\": \"form-dialog-title\",\n          width: \"xs\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286\n          },\n          __self: this\n        }, __jsx(DialogContent, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 287\n          },\n          __self: this\n        }, __jsx(TextField, {\n          autoFocus: true,\n          defaultValue: this.state.selectedEvent.title,\n          margin: \"dense\",\n          id: \"name\",\n          label: \"\\u4E8B\\u4EF6\\u6A19\\u984C\",\n          fullWidth: true,\n          onChange: this.handleTitleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 288\n          },\n          __self: this\n        }), __jsx(TextField, {\n          defaultValue: this.state.selectedEvent.startTime.getFullYear() + \"/\" + this.state.selectedEvent.startTime.getMonth() + \"/\" + this.state.selectedEvent.startTime.getDate(),\n          margin: \"dense\",\n          id: \"name\",\n          onChange: this.handleDateChange,\n          label: \"\\u65E5\\u671F\",\n          fullWidth: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 297\n          },\n          __self: this\n        }), __jsx(TextField, {\n          defaultValue: this.state.selectedEvent.startTime.getHours() + \":\" + this.state.selectedEvent.startTime.getMinutes() + \"~\" + this.state.selectedEvent.endTime.getHours() + \":\" + this.state.selectedEvent.endTime.getMinutes(),\n          margin: \"dense\",\n          id: \"name\",\n          onChange: this.handleTimeChange,\n          label: \"\\u6642\\u9593\",\n          fullWidth: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 311\n          },\n          __self: this\n        })), __jsx(DialogActions, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 328\n          },\n          __self: this\n        }, __jsx(Button, {\n          color: \"primary\",\n          onClick: this.closeCreatingEventEditDialog,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 329\n          },\n          __self: this\n        }, \"\\u53D6\\u6D88\"), __jsx(Button, {\n          color: \"primary\",\n          onClick: this.createEvent,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 332\n          },\n          __self: this\n        }, \"\\u66F4\\u65B0\"))), __jsx(Dialog, {\n          open: this.state.creatingEvent,\n          \"aria-labelledby\": \"form-dialog-title\",\n          width: \"xs\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 338\n          },\n          __self: this\n        }, __jsx(DialogContent, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 339\n          },\n          __self: this\n        }, __jsx(FormControl, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 340\n          },\n          __self: this\n        }, __jsx(InputLabel, {\n          htmlFor: \"demo-dialog-native\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 341\n          },\n          __self: this\n        }, \"\\u884C\\u4E8B\\u66C6\"), __jsx(Select, {\n          \"native\": true,\n          onChange: this.handleCalendarChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 342\n          },\n          __self: this\n        }, calendarOptions)), __jsx(TextField, {\n          autoFocus: true,\n          margin: \"dense\",\n          id: \"name\",\n          label: \"\\u4E8B\\u4EF6\\u6A19\\u984C\",\n          fullWidth: true,\n          onChange: this.handleTitleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 346\n          },\n          __self: this\n        }), __jsx(TextField, {\n          defaultValue: new Date().getFullYear() + \"/\" + new Date().getMonth() + \"/\" + new Date().getDate(),\n          margin: \"dense\",\n          id: \"name\",\n          onChange: this.handleDateChange,\n          label: \"\\u65E5\\u671F\",\n          fullWidth: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 347\n          },\n          __self: this\n        }), __jsx(TextField, {\n          defaultValue: new Date().getHours() + \":\" + new Date().getMinutes() + \"~\" + (new Date().getHours() + 1) + \":\" + new Date().getMinutes(),\n          margin: \"dense\",\n          id: \"name\",\n          onChange: this.handleTimeChange,\n          label: \"\\u6642\\u9593\",\n          fullWidth: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 355\n          },\n          __self: this\n        })), __jsx(DialogActions, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 366\n          },\n          __self: this\n        }, __jsx(Button, {\n          color: \"primary\",\n          onClick: this.closeEventCreateDialog,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367\n          },\n          __self: this\n        }, \"\\u53D6\\u6D88\"), __jsx(Button, {\n          color: \"primary\",\n          onClick: this.createEvent,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 370\n          },\n          __self: this\n        }, \"\\u5275\\u7ACB\"))), __jsx(_JSXStyle, {\n          id: \"2272562205\",\n          __self: this\n        }, \"body{background:#222222;}::-webkit-scrollbar{width:5px;}::-webkit-scrollbar-track{-webkit-border-radius:10px;border-radius:10px;margin:80px 0 5px 0;}::-webkit-scrollbar-thumb{-webkit-border-radius:4px;border-radius:4px;background:rgb(80,80,80);}.DayPicker{display:inline-block;font-size:1rem;}.DayPicker-wrapper{position:relative;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding-bottom:1em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.DayPicker-Months{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}.DayPicker-Month{display:table;margin:0 1em;margin-top:1em;border-spacing:0;border-collapse:collapse;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.DayPicker-NavButton{position:absolute;top:1em;right:1.5em;left:auto;display:inline-block;margin-top:2px;width:1.25em;height:1.25em;background-position:center;background-size:50%;background-repeat:no-repeat;color:#8b9898;cursor:pointer;}.DayPicker-NavButton:hover{opacity:0.8;}.DayPicker-NavButton--prev{margin-right:1.5em;background-image:url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAVVJREFUWAnN2G0KgjAYwPHpGfRkaZeqvgQaK+hY3SUHrk1YzNLay/OiEFp92I+/Mp2F2Mh2lLISWnflFjzH263RQjzMZ19wgs73ez0o1WmtW+dgA01VxrE3p6l2GLsnBy1VYQOtVSEH/atCCgqpQgKKqYIOiq2CBkqtggLKqQIKgqgCBjpJ2Y5CdJ+zrT9A7HHSTA1dxUdHgzCqJIEwq0SDsKsEg6iqBIEoq/wEcVRZBXFV+QJxV5mBtlDFB5VjYTaGZ2sf4R9PM7U9ZU+lLuaetPP/5Die3ToO1+u+MKtHs06qODB2zBnI/jBd4MPQm1VkY79Tb18gB+C62FdBFsZR6yeIo1YQiLJWMIiqVjQIu1YSCLNWFgijVjYIuhYYCKoWKAiiFgoopxYaKLUWOii2FgkophYp6F3r42W5A9s9OcgNvva8xQaysKXlFytoqdYmQH6tF3toSUo0INq9AAAAAElFTkSuQmCC\\\");}.DayPicker-NavButton--next{background-image:url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAXRJREFUWAnN119ugjAcwPHWzJ1gnmxzB/BBE0n24m4xfNkTaOL7wOtsl3AXMMb+Vjaa1BG00N8fSEibPpAP3xAKKs2yjzTPH9RAjhEo9WzPr/Vm8zgE0+gXATAxxuxtqeJ9t5tIwv5AtQAApsfT6TPdbp+kUBcgVwvO51KqVhMkXKsVJFXrOkigVhCIs1Y4iKlWZxB1rX4gwlpRIIpa8SDkWmggrFq4IIRaJKCYWnSgnrXIQV1r8YD+1Vrn+bReagysIFfLABRt31v8oBu1xEBttfRbltmfjgEcWh9snUS2kNdBK6WN1vrOWxObWsz+fjxevsxmB1GQDfINWiev83nhaoiB/CoOU438oPrhXS0WpQ9xc1ZQWxWHqUYe0I0qrKCQKjygDlXIQV2r0IF6ViEBxVTBBSFUQQNhVYkHIVeJAtkNsbQ7c1LtzP6FsObhb2rCKv7NBIGoq4SDmKoEgTirXAcJVGkFSVVpgoSrXICGUMUH/QBZNSUy5XWUhwAAAABJRU5ErkJggg==\\\");}.DayPicker-NavButton--interactionDisabled{display:none;}.DayPicker-Caption{display:table-caption;margin-bottom:0.5em;padding:0 0.5em;text-align:left;color:white;}.DayPicker-Caption>div{font-weight:500;font-size:1.15em;}.DayPicker-Weekdays{display:table-header-group;margin-top:1em;}.DayPicker-WeekdaysRow{display:table-row;}.DayPicker-Weekday{display:table-cell;padding:0.5em;color:#8b9898;text-align:center;font-size:0.875em;}.DayPicker-Weekday abbr[title]{border-bottom:none;-webkit-text-decoration:none;text-decoration:none;}.DayPicker-Body{display:table-row-group;}.DayPicker-Week{display:table-row;}.DayPicker-Day{display:table-cell;padding:0.5em;border-radius:50%;vertical-align:middle;text-align:center;cursor:pointer;color:gray;}.DayPicker-WeekNumber{display:table-cell;padding:0.5em;min-width:1em;border-right:1px solid #eaecec;color:#8b9898;vertical-align:middle;text-align:right;font-size:0.75em;cursor:pointer;}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default;}.DayPicker-Footer{padding-top:0.5em;}.DayPicker-TodayButton{border:none;background-color:transparent;background-image:none;box-shadow:none;color:#4a90e2;font-size:0.875em;cursor:pointer;}.DayPicker-Day--today{color:white;font-weight:700;}.DayPicker-Day--outside{color:#8b9898;cursor:default;}.DayPicker-Day--disabled{color:#dce0e0;cursor:default;}.DayPicker-Day--sunday{background-color:#f7f8f8;}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0;}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){position:relative;background-color:#4a90e2;color:#f0f8ff;}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover{background-color:#51a0fa;}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside):hover{background-color:#f0f8ff;}.DayPickerInput{display:inline-block;}.DayPickerInput-OverlayWrapper{position:relative;}.DayPickerInput-Overlay{position:absolute;left:0;z-index:1;background:white;box-shadow:0 2px 5px rgba(0,0,0,0.15);}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcaW15dWFcXGRldlxcY2FsZW5kYXJcXHBhZ2VzXFxpbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF1WHVDLEFBR2dELEFBR1QsQUFHaUIsQUFLRCxBQU9MLEFBS0gsQUFlTCxBQU1DLEFBZ0JJLEFBaUJOLEFBSU8sQUFLZ25CLEFBSXRuQixBQUlTLEFBUU4sQUFLVyxBQUtULEFBSUMsQUFRQSxBQUtLLEFBSU4sQUFJQyxBQVVBLEFBWUosQUFJRyxBQUlOLEFBVUEsQUFLRSxBQUtBLEFBUVcsQUFJWCxBQUlJLEFBT08sQUFLQSxBQU1KLEFBSUgsQUFJQSxVQWpPdEIsRUEwRUEsQUEwRmlDLEFBVWIsQ0F2RnBCLENBOUNpQixBQTBJRSxBQUtBLEFBWW5CLENBeENBLENBekRxQixFQTlFRSxBQW9DWCxBQW9EWixBQXFCQSxBQThCQSxBQXlDNkIsQUFxQjdCLEFBSVcsQ0FyT1gsQUFpRjJsQixBQW1DemtCLEFBUU8sQUFhUCxBQVVBLEVBaklDLEFBMk1uQixDQS9Id0IsRUFtQ3hCLENBa0VBLEFBZUEsQUFLQSxBQWVjLENBM05RLEFBa0ROLENBdkRPLEFBdUNKLEFBOERBLENBdUVuQixDQUtBLEFBTUEsSUF0RkEsQUFja0IsQUFxQkksQUFVSixFQW9GRyxDQXJOckIsRUEyQ2MsR0EwR1ksQ0ExSEwsQUFpREQsQUFhcEIsQ0FpR2tCLENBak1hLEVBTFAsQ0ErR0YsQUErQmEsQ0FyRlYsR0EyRUMsQ0E4Rm1CLEtBM0I3QyxDQTlHb0IsQ0FqRFMsSUEwSFQsRUFsREUsQ0EvR3RCLEdBS0EsQUFvRG1CLEFBNERuQixJQWVzQixDQXRHSCxBQTJESCxJQXFERSxDQW9CQSxJQWxEbEIsQ0F2RTZCLEFBaUJaLEVBZ0NqQixDQXpFdUIsR0FpTnZCLENBN0ZtQixDQVVPLENBb0JKLElBeEdKLFNBeENXLEFBbUhkLEdBM0ZXLEVBaUJLLEFBd0daLEdBcEJFLEdBVHJCLFNBOEJBLEtBaEowQixBQVVDLEFBY0YsQUFvR0osT0FwRkcsVUFxRkwsSUFuR0UsQ0F4QkksS0F1Q08sS0FxRmhDLFdBMUhxQixZQXNDSCxjQUNDLGVBQ25CLGVBakNBLE9BZ0JBLHNCQXRCQSx1V0FnREEseUJBSUEiLCJmaWxlIjoiQzpcXFVzZXJzXFxpbXl1YVxcZGV2XFxjYWxlbmRhclxccGFnZXNcXGluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgQ29udGFpbmVyIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9jb250YWluZXJcIjtcclxuaW1wb3J0IERheVZpZXcgZnJvbSBcIi4uL2NvbXBzL0RheVZpZXdcIjtcclxuaW1wb3J0IGZldGNoIGZyb20gXCJpc29tb3JwaGljLXVuZmV0Y2hcIjtcclxuaW1wb3J0IEdyaWQgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0dyaWRcIjtcclxuaW1wb3J0IHsgVXNlciwgQ2FsZW5kYXIsIEV2ZW50IH0gZnJvbSBcIi4uL2NsYXNzZXNcIjtcclxuaW1wb3J0IERheVBpY2tlciBmcm9tIFwicmVhY3QtZGF5LXBpY2tlclwiO1xyXG5pbXBvcnQgVGV4dEZpZWxkIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9UZXh0RmllbGRcIjtcclxuaW1wb3J0IERpYWxvZyBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nXCI7XHJcbmltcG9ydCBCdXR0b24gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0J1dHRvblwiO1xyXG5pbXBvcnQgRGlhbG9nQWN0aW9ucyBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nQWN0aW9uc1wiO1xyXG5pbXBvcnQgRGlhbG9nQ29udGVudCBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nQ29udGVudFwiO1xyXG5pbXBvcnQgRm9ybUNvbnRyb2wgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0Zvcm1Db250cm9sXCI7XHJcbmltcG9ydCBJbnB1dExhYmVsIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9JbnB1dExhYmVsXCI7XHJcbmltcG9ydCBTZWxlY3QgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL1NlbGVjdFwiO1xyXG5pbXBvcnQgUGFwZXIgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL1BhcGVyXCI7XHJcblxyXG5mdW5jdGlvbiBzdGFydE9mRGF5KGRhdGUpIHtcclxuICAgIGlmICghZGF0ZSBpbnN0YW5jZW9mIERhdGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwi5YKz5YWl55qE5pmC6ZaT5LiN5piv5ZCI5rOV55qEIERhdGUg54mp5Lu244CCXCIpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgZGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgdmFyIHRpbWUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgdGltZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpKTtcclxuICAgIHRpbWUuc2V0SG91cnMoMCwgMCwgMCk7XHJcbiAgICByZXR1cm4gdGltZTtcclxufVxyXG5cclxuZnVuY3Rpb24gZW5kT2ZEYXkoZGF0ZSkge1xyXG4gICAgaWYgKCFkYXRlIGluc3RhbmNlb2YgRGF0ZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCLlgrPlhaXnmoTmmYLplpPkuI3mmK/lkIjms5XnmoQgRGF0ZSDnianku7bjgIJcIik7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBkYXRlID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICB2YXIgdGltZSA9IG5ldyBEYXRlKCk7XHJcbiAgICB0aW1lLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkpO1xyXG4gICAgdGltZS5zZXRIb3VycygyMywgNTksIDU5KTtcclxuICAgIHJldHVybiB0aW1lO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaWxsRXZlbnRzKGV2ZW50cywgZGF0ZSkge1xyXG4gICAgdmFyIGZpbGxlZCA9IG5ldyBBcnJheSgpO1xyXG4gICAgdmFyIHRpbWUgPSBzdGFydE9mRGF5KGRhdGUpO1xyXG4gICAgZXZlbnRzLm1hcChldmVudCA9PiB7XHJcbiAgICAgICAgdmFyIHN0YXJ0VGltZSA9IG5ldyBEYXRlKGV2ZW50LnN0YXJ0VGltZSk7XHJcbiAgICAgICAgdmFyIGVuZFRpbWUgPSBuZXcgRGF0ZShldmVudC5lbmRUaW1lKTtcclxuICAgICAgICBpZiAoc3RhcnRUaW1lLmdldEhvdXJzKCkgPiBlbmRUaW1lLmdldEhvdXJzKCkpIHtcclxuICAgICAgICAgICAgZW5kVGltZS5zZXRIb3VycygyMywgNTksIDU5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmlsbGVkLnB1c2gobmV3IEV2ZW50KHsgc3RhcnRUaW1lOiB0aW1lLCBlbmRUaW1lOiBzdGFydFRpbWUgfSwgdHJ1ZSkpO1xyXG4gICAgICAgIGZpbGxlZC5wdXNoKGV2ZW50KTtcclxuICAgICAgICB0aW1lLnNldFRpbWUoZW5kVGltZS5nZXRUaW1lKCkpO1xyXG4gICAgfSk7XHJcbiAgICBmaWxsZWQucHVzaChuZXcgRXZlbnQoeyBzdGFydFRpbWU6IHRpbWUsIGVuZFRpbWU6IGVuZE9mRGF5KGRhdGUpIH0sIHRydWUpKTtcclxuICAgIHJldHVybiBmaWxsZWQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV2ZW50c1RvRGlzcGF5KGNhbGVuZGFycywgZGF0ZSkge1xyXG4gICAgdmFyIGV2ZW50c1RvRGlzcGF5ID0gW107XHJcbiAgICBjYWxlbmRhcnMubWFwKGNhbGVuZGFyID0+IHtcclxuICAgICAgICBjYWxlbmRhciA9IG5ldyBDYWxlbmRhcihjYWxlbmRhcik7XHJcbiAgICAgICAgY2FsZW5kYXIuZXZlbnRzLm1hcChldmVudCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0YXJ0VGltZS5nZXRGdWxsWWVhcigpID09IGRhdGUuZ2V0RnVsbFllYXIoKSAmJlxyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RhcnRUaW1lLmdldE1vbnRoKCkgPT0gZGF0ZS5nZXRNb250aCgpICYmXHJcbiAgICAgICAgICAgICAgICBldmVudC5zdGFydFRpbWUuZ2V0RGF0ZSgpID09IGRhdGUuZ2V0RGF0ZSgpICYmXHJcbiAgICAgICAgICAgICAgICAhZXZlbnQuaXNBbGxEYXlFdmVudCgpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnRzVG9EaXNwYXkucHVzaChldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgZXZlbnRzVG9EaXNwYXkuc29ydCgoYSwgYikgPT4gYS5zdGFydFRpbWUgLSBiLnN0YXJ0VGltZSk7XHJcbiAgICByZXR1cm4gZXZlbnRzVG9EaXNwYXk7XHJcbn1cclxuXHJcbmNsYXNzIGluZGV4IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkRGF5OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICBldmVudHNUb0Rpc3BheTogW10sXHJcbiAgICAgICAgICAgIHVzZXJkYXRhOiB7fSxcclxuICAgICAgICAgICAgZmlsbGVkOiBbXSxcclxuICAgICAgICAgICAgaW5wdXRpbmc6IHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgZGF0ZTogXCJcIixcclxuICAgICAgICAgICAgICAgIHRpbWU6IFwiXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZWRpdGluZ0V2ZW50OiBmYWxzZSxcclxuICAgICAgICAgICAgY3JlYXRpbmdFdmVudDogZmFsc2UsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkRXZlbnQ6IG5ldyBFdmVudCh7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogXCLpgbjkuK3nmoTkuovku7ZcIixcclxuICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgICAgIGVuZFRpbWU6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogW1wiI2ZkMzcyMVwiLCBcIiNiNzIxZmZcIl1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuaGFuZGxlRGF5Q2xpY2sgPSB0aGlzLmhhbmRsZURheUNsaWNrLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vcGVuRXZlbnRFZGl0RGlhbG9nID0gdGhpcy5vcGVuRXZlbnRFZGl0RGlhbG9nLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jbG9zZUV2ZW50RWRpdERpYWxvZyA9IHRoaXMuY2xvc2VFdmVudEVkaXREaWFsb2cuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9wZW5FdmVudENyZWF0ZURpYWxvZyA9IHRoaXMub3BlbkV2ZW50Q3JlYXRlRGlhbG9nLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jbG9zZUV2ZW50Q3JlYXRlRGlhbG9nID0gdGhpcy5jbG9zZUV2ZW50Q3JlYXRlRGlhbG9nLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVFdmVudCA9IHRoaXMudXBkYXRlRXZlbnQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUV2ZW50ID0gdGhpcy5jcmVhdGVFdmVudC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlVGl0bGVDaGFuZ2UgPSB0aGlzLmhhbmRsZVRpdGxlQ2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVEYXRlQ2hhbmdlID0gdGhpcy5oYW5kbGVEYXRlQ2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVUaW1lQ2hhbmdlID0gdGhpcy5oYW5kbGVUaW1lQ2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVDYWxlbmRhckNoYW5nZSA9IHRoaXMuaGFuZGxlQ2FsZW5kYXJDaGFuZ2UuYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBoYW5kbGVEYXlDbGljayhkYXksIHsgc2VsZWN0ZWQgfSkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBzZWxlY3RlZERheTogc2VsZWN0ZWQgPyBuZXcgRGF0ZSgpIDogZGF5XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFzeW5jIGdldEluaXRpYWxQcm9wcygpIHtcclxuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvZ2V0dXNlcmRhdGFcIik7XHJcbiAgICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKCk7XHJcbiAgICAgICAgdmFyIHVzZXJkYXRhID0gbmV3IFVzZXIoanNvbik7XHJcbiAgICAgICAgdmFyIGV0ZCA9IGV2ZW50c1RvRGlzcGF5KHVzZXJkYXRhLmNhbGVuZGFycywgbmV3IERhdGUoKSk7XHJcbiAgICAgICAgdmFyIGZpbGxlZCA9IGZpbGxFdmVudHMoZXZlbnRzVG9EaXNwYXkodXNlcmRhdGEuY2FsZW5kYXJzLCBuZXcgRGF0ZSgpKSwgbmV3IERhdGUoKSk7XHJcbiAgICAgICAgcmV0dXJuIHsgdXNlcmRhdGE6IHVzZXJkYXRhLCBmaWxsZWQ6IGZpbGxlZCwgZXZlbnRzVG9EaXNwYXk6IGV0ZCB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgZmlsbGVkID0gZmlsbEV2ZW50cyh0aGlzLnByb3BzLmV2ZW50c1RvRGlzcGF5LCBuZXcgRGF0ZSgpKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZpbGxlZDogZmlsbGVkLCB1c2VyZGF0YTogdGhpcy5wcm9wcy51c2VyZGF0YSB9KTtcclxuICAgICAgICB9LCAyMDApO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW5FdmVudEVkaXREaWFsb2coZXZlbnQpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRFdmVudDogZXZlbnQsXHJcbiAgICAgICAgICAgIGVkaXRpbmdFdmVudDogdHJ1ZSxcclxuICAgICAgICAgICAgaW5wdXRpbmc6IHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBldmVudC50aXRsZSxcclxuICAgICAgICAgICAgICAgIGRhdGU6IGV2ZW50LnN0YXJ0VGltZS5nZXRGdWxsWWVhcigpICsgXCIvXCIgKyBldmVudC5zdGFydFRpbWUuZ2V0TW9udGgoKSArIFwiL1wiICsgZXZlbnQuc3RhcnRUaW1lLmdldERhdGUoKSxcclxuICAgICAgICAgICAgICAgIHRpbWU6IGV2ZW50LnN0YXJ0VGltZS5nZXRIb3VycygpICsgXCI6XCIgKyBldmVudC5zdGFydFRpbWUuZ2V0TWludXRlcygpICsgXCJ+XCIgKyBldmVudC5lbmRUaW1lLmdldEhvdXJzKCkgKyBcIjpcIiArIGV2ZW50LmVuZFRpbWUuZ2V0TWludXRlcygpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZUV2ZW50RWRpdERpYWxvZygpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZWRpdGluZ0V2ZW50OiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuRXZlbnRDcmVhdGVEaWFsb2coKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGNyZWF0aW5nRXZlbnQ6IHRydWUsXHJcbiAgICAgICAgICAgIGlucHV0aW5nOiB7IGRhdGU6IHRoaXMuc3RhdGUuc2VsZWN0ZWREYXkuZ2V0RnVsbFllYXIoKSArIFwiL1wiICsgdGhpcy5zdGF0ZS5zZWxlY3RlZERheS5nZXRNb250aCgpICsgXCIvXCIgKyB0aGlzLnN0YXRlLnNlbGVjdGVkRGF5LmdldERhdGUoKSB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VFdmVudENyZWF0ZURpYWxvZygpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgY3JlYXRpbmdFdmVudDogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgY3JlYXRlRXZlbnQoKSB7XHJcbiAgICAgICAgdmFyIG5ld1N0YXJ0VGltZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgdmFyIG5ld0VuZFRpbWUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIG5ld1N0YXJ0VGltZS5zZXRGdWxsWWVhcih0aGlzLnN0YXRlLmlucHV0aW5nLmRhdGUuc3BsaXQoXCIvXCIpWzBdLCB0aGlzLnN0YXRlLmlucHV0aW5nLmRhdGUuc3BsaXQoXCIvXCIpWzFdLCB0aGlzLnN0YXRlLmlucHV0aW5nLmRhdGUuc3BsaXQoXCIvXCIpWzJdKTtcclxuICAgICAgICBuZXdFbmRUaW1lLnNldEZ1bGxZZWFyKHRoaXMuc3RhdGUuaW5wdXRpbmcuZGF0ZS5zcGxpdChcIi9cIilbMF0sIHRoaXMuc3RhdGUuaW5wdXRpbmcuZGF0ZS5zcGxpdChcIi9cIilbMV0sIHRoaXMuc3RhdGUuaW5wdXRpbmcuZGF0ZS5zcGxpdChcIi9cIilbMl0pO1xyXG4gICAgICAgIG5ld1N0YXJ0VGltZS5zZXRIb3Vycyh0aGlzLnN0YXRlLmlucHV0aW5nLnRpbWUuc3BsaXQoXCJ+XCIpWzBdLnNwbGl0KFwiOlwiKVswXSwgdGhpcy5zdGF0ZS5pbnB1dGluZy50aW1lLnNwbGl0KFwiflwiKVswXS5zcGxpdChcIjpcIilbMV0pO1xyXG4gICAgICAgIG5ld0VuZFRpbWUuc2V0SG91cnModGhpcy5zdGF0ZS5pbnB1dGluZy50aW1lLnNwbGl0KFwiflwiKVsxXS5zcGxpdChcIjpcIilbMF0sIHRoaXMuc3RhdGUuaW5wdXRpbmcudGltZS5zcGxpdChcIn5cIilbMV0uc3BsaXQoXCI6XCIpWzFdKTtcclxuICAgICAgICB2YXIgbmV3ZGF0YSA9IG5ldyBVc2VyKHRoaXMuc3RhdGUudXNlcmRhdGEpO1xyXG4gICAgICAgIG5ld2RhdGEuY2FsZW5kYXJzLm1hcChjYWxlbmRhciA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjYWxlbmRhci50aXRsZSA9PSB0aGlzLnN0YXRlLmlucHV0aW5nLmNhbGVuZGFyKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxlbmRhci5ldmVudHMucHVzaChuZXcgRXZlbnQoeyB0aXRsZTogdGhpcy5zdGF0ZS5pbnB1dGluZy50aXRsZSwgc3RhcnRUaW1lOiBuZXdTdGFydFRpbWUsIGVuZFRpbWU6IG5ld0VuZFRpbWUsIGNvbG9yOiBjYWxlbmRhci5jb2xvciB9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBhd2FpdCBmZXRjaChcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXBkYXRldXNlcmRhdGFcIiwgeyBtZXRob2Q6IFwicG9zdFwiLCBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGNhbGVuZGFyczogbmV3ZGF0YS5jYWxlbmRhcnMgfSkgfSk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNyZWF0aW5nRXZlbnQ6IGZhbHNlIH0pO1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9nZXR1c2VyZGF0YVwiKTtcclxuICAgICAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICAgICAgICB2YXIgdXNlcmRhdGEgPSBuZXcgVXNlcihqc29uKTtcclxuICAgICAgICB2YXIgZXRkID0gZXZlbnRzVG9EaXNwYXkodXNlcmRhdGEuY2FsZW5kYXJzLCBuZXcgRGF0ZSgpKTtcclxuICAgICAgICB2YXIgZmlsbGVkID0gZmlsbEV2ZW50cyhldmVudHNUb0Rpc3BheSh1c2VyZGF0YS5jYWxlbmRhcnMsIG5ldyBEYXRlKCkpLCBuZXcgRGF0ZSgpKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgdXNlcmRhdGE6IHVzZXJkYXRhLCBmaWxsZWQ6IGZpbGxlZCwgZXZlbnRzVG9EaXNwYXk6IGV0ZCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyB1cGRhdGVFdmVudCgpIHtcclxuICAgICAgICB2YXIgbmV3U3RhcnRUaW1lID0gbmV3IERhdGUoKTtcclxuICAgICAgICB2YXIgbmV3RW5kVGltZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgbmV3U3RhcnRUaW1lLnNldEZ1bGxZZWFyKHRoaXMuc3RhdGUuaW5wdXRpbmcuZGF0ZS5zcGxpdChcIi9cIilbMF0sIHRoaXMuc3RhdGUuaW5wdXRpbmcuZGF0ZS5zcGxpdChcIi9cIilbMV0sIHRoaXMuc3RhdGUuaW5wdXRpbmcuZGF0ZS5zcGxpdChcIi9cIilbMl0pO1xyXG4gICAgICAgIG5ld0VuZFRpbWUuc2V0RnVsbFllYXIodGhpcy5zdGF0ZS5pbnB1dGluZy5kYXRlLnNwbGl0KFwiL1wiKVswXSwgdGhpcy5zdGF0ZS5pbnB1dGluZy5kYXRlLnNwbGl0KFwiL1wiKVsxXSwgdGhpcy5zdGF0ZS5pbnB1dGluZy5kYXRlLnNwbGl0KFwiL1wiKVsyXSk7XHJcbiAgICAgICAgbmV3U3RhcnRUaW1lLnNldEhvdXJzKHRoaXMuc3RhdGUuaW5wdXRpbmcudGltZS5zcGxpdChcIn5cIilbMF0uc3BsaXQoXCI6XCIpWzBdLCB0aGlzLnN0YXRlLmlucHV0aW5nLnRpbWUuc3BsaXQoXCJ+XCIpWzBdLnNwbGl0KFwiOlwiKVsxXSk7XHJcbiAgICAgICAgbmV3RW5kVGltZS5zZXRIb3Vycyh0aGlzLnN0YXRlLmlucHV0aW5nLnRpbWUuc3BsaXQoXCJ+XCIpWzFdLnNwbGl0KFwiOlwiKVswXSwgdGhpcy5zdGF0ZS5pbnB1dGluZy50aW1lLnNwbGl0KFwiflwiKVsxXS5zcGxpdChcIjpcIilbMV0pO1xyXG4gICAgICAgIHZhciBuZXdkYXRhID0gbmV3IFVzZXIodGhpcy5zdGF0ZS51c2VyZGF0YSk7XHJcbiAgICAgICAgbmV3ZGF0YS5jYWxlbmRhcnMubWFwKGNhbGVuZGFyID0+IHtcclxuICAgICAgICAgICAgY2FsZW5kYXIuZXZlbnRzLm1hcChldmVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuaWQgPT0gdGhpcy5zdGF0ZS5zZWxlY3RlZEV2ZW50LmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RhcnRUaW1lID0gbmV3U3RhcnRUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LmVuZFRpbWUgPSBuZXdFbmRUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnRpdGxlID0gdGhpcy5zdGF0ZS5pbnB1dGluZy50aXRsZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXdhaXQgZmV0Y2goXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VwZGF0ZXVzZXJkYXRhXCIsIHsgbWV0aG9kOiBcInBvc3RcIiwgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjYWxlbmRhcnM6IG5ld2RhdGEuY2FsZW5kYXJzIH0pIH0pO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlZGl0aW5nRXZlbnQ6IGZhbHNlIH0pO1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9nZXR1c2VyZGF0YVwiKTtcclxuICAgICAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICAgICAgICB2YXIgdXNlcmRhdGEgPSBuZXcgVXNlcihqc29uKTtcclxuICAgICAgICB2YXIgZXRkID0gZXZlbnRzVG9EaXNwYXkodXNlcmRhdGEuY2FsZW5kYXJzLCBuZXcgRGF0ZSgpKTtcclxuICAgICAgICB2YXIgZmlsbGVkID0gZmlsbEV2ZW50cyhldmVudHNUb0Rpc3BheSh1c2VyZGF0YS5jYWxlbmRhcnMsIG5ldyBEYXRlKCkpLCBuZXcgRGF0ZSgpKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgdXNlcmRhdGE6IHVzZXJkYXRhLCBmaWxsZWQ6IGZpbGxlZCwgZXZlbnRzVG9EaXNwYXk6IGV0ZCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVUaXRsZUNoYW5nZShlKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0ZS5pbnB1dGluZy50aXRsZSA9IGUudGFyZ2V0LnZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZURhdGVDaGFuZ2UoZSkge1xyXG4gICAgICAgIHRoaXMuc3RhdGUuaW5wdXRpbmcuZGF0ZSA9IGUudGFyZ2V0LnZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVRpbWVDaGFuZ2UoZSkge1xyXG4gICAgICAgIHRoaXMuc3RhdGUuaW5wdXRpbmcudGltZSA9IGUudGFyZ2V0LnZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNhbGVuZGFyQ2hhbmdlKGUpIHtcclxuICAgICAgICB0aGlzLnN0YXRlLmlucHV0aW5nLmNhbGVuZGFyID0gZS50YXJnZXQudmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnVzZXJkYXRhLmNhbGVuZGFycyAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdmFyIGNhbGVuZGFyT3B0aW9ucyA9IHRoaXMuc3RhdGUudXNlcmRhdGEuY2FsZW5kYXJzLm1hcChjYWxlbmRhciA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtjYWxlbmRhci50aXRsZX0gdmFsdWU9e2NhbGVuZGFyLnRpdGxlfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge2NhbGVuZGFyLnRpdGxlfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBmaWxsZWQgPSBmaWxsRXZlbnRzKGV2ZW50c1RvRGlzcGF5KHRoaXMuc3RhdGUudXNlcmRhdGEuY2FsZW5kYXJzLCB0aGlzLnN0YXRlLnNlbGVjdGVkRGF5KSwgdGhpcy5zdGF0ZS5zZWxlY3RlZERheSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZGF5RGVzY3JpcHRpb24gPSBcIlwiO1xyXG4gICAgICAgICAgICB2YXIgRGF5QSA9IG5ldyBEYXRlKHRoaXMuc3RhdGUuc2VsZWN0ZWREYXkpO1xyXG4gICAgICAgICAgICB2YXIgRGF5QiA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgIERheUEuc2V0SG91cnMoMTIsIDAsIDApO1xyXG4gICAgICAgICAgICBEYXlCLnNldEhvdXJzKDEyLCAwLCAwKTtcclxuICAgICAgICAgICAgaWYgKHBhcnNlSW50KChEYXlBIC0gRGF5QikgLyAzNjAwMDAwKSA8IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJzZUludCgoRGF5QSAtIERheUIpIC8gMzYwMDAwMCkgPT0gMCkgZGF5RGVzY3JpcHRpb24gPSBcIuS7iuWkqVwiO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGFyc2VJbnQoKERheUEgLSBEYXlCKSAvIDM2MDAwMDApID09IC0yNCkgZGF5RGVzY3JpcHRpb24gPSBcIuaYqOWkqVwiO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGFyc2VJbnQoKERheUEgLSBEYXlCKSAvIDM2MDAwMDApID09IC00OCkgZGF5RGVzY3JpcHRpb24gPSBcIuWJjeWkqVwiO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBkYXlEZXNjcmlwdGlvbiA9IHBhcnNlSW50KChEYXlBIC0gRGF5QikgLyAzNjAwMDAwIC8gLTI0KSArIFwiIOWkqeWJjVwiO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KChEYXlBIC0gRGF5QikgLyAzNjAwMDAwKSA9PSAwKSBkYXlEZXNjcmlwdGlvbiA9IFwi5LuK5aSpXCI7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwYXJzZUludCgoRGF5QSAtIERheUIpIC8gMzYwMDAwMCkgPT0gMjMpIGRheURlc2NyaXB0aW9uID0gXCLmmI7lpKlcIjtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBhcnNlSW50KChEYXlBIC0gRGF5QikgLyAzNjAwMDAwKSA9PSA0NykgZGF5RGVzY3JpcHRpb24gPSBcIuW+jOWkqVwiO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBkYXlEZXNjcmlwdGlvbiA9IHBhcnNlSW50KChEYXlBIC0gRGF5QikgLyAzNjAwMDAwIC8gMjQpICsgMSArIFwiIOWkqeW+jFwiO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPENvbnRhaW5lciBtYXhXaWR0aD1cIm1kXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXs0fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiA2MCB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UGFwZXIgZWxldmF0aW9uPXsyMH0gc3R5bGU9e3tiYWNrZ3JvdW5kQ29sb3I6IFwiIzQ0NDQ0NFwiLCBwYWRkaW5nOiAxNn19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF5UGlja2VyIHNlbGVjdGVkRGF5cz17dGhpcy5zdGF0ZS5zZWxlY3RlZERheX0gb25EYXlDbGljaz17dGhpcy5oYW5kbGVEYXlDbGlja30gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1BhcGVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkxlZnQ6IDI2LCBtYXJnaW5Ub3A6IDYwIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBzdHlsZT17eyBjb2xvcjogXCJ3aGl0ZVwiLCBtYXJnaW5Cb3R0b206IDE2IH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5zZWxlY3RlZERheS5nZXRGdWxsWWVhcigpfSAvIHt0aGlzLnN0YXRlLnNlbGVjdGVkRGF5LmdldE1vbnRoKCkgKyAxfSAvIHt0aGlzLnN0YXRlLnNlbGVjdGVkRGF5LmdldERhdGUoKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBcImdyYXlcIiwgbWFyZ2luVG9wOiAwIH19PntkYXlEZXNjcmlwdGlvbn08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXs4fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6IFwic2Nyb2xsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEhlaWdodDogXCI5MHZoXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDI0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiA2MFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERheVZpZXcgZXZlbnRzPXtmaWxsZWR9IG9wZW5FdmVudEVkaXREaWFsb2c9e3RoaXMub3BlbkV2ZW50RWRpdERpYWxvZ30gb3BlbkV2ZW50Q3JlYXRlRGlhbG9nPXt0aGlzLm9wZW5FdmVudENyZWF0ZURpYWxvZ30gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8RGlhbG9nIG9wZW49e3RoaXMuc3RhdGUuZWRpdGluZ0V2ZW50fSBhcmlhLWxhYmVsbGVkYnk9XCJmb3JtLWRpYWxvZy10aXRsZVwiIHdpZHRoPVwieHNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0NvbnRlbnQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0ZvY3VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXt0aGlzLnN0YXRlLnNlbGVjdGVkRXZlbnQudGl0bGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luPVwiZGVuc2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwibmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCLkuovku7bmqJnpoYxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxXaWR0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVRpdGxlQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkRXZlbnQuc3RhcnRUaW1lLmdldEZ1bGxZZWFyKCkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIi9cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRFdmVudC5zdGFydFRpbWUuZ2V0TW9udGgoKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiL1wiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZEV2ZW50LnN0YXJ0VGltZS5nZXREYXRlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luPVwiZGVuc2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwibmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlRGF0ZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIuaXpeacn1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRFdmVudC5zdGFydFRpbWUuZ2V0SG91cnMoKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiOlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZEV2ZW50LnN0YXJ0VGltZS5nZXRNaW51dGVzKCkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIn5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRFdmVudC5lbmRUaW1lLmdldEhvdXJzKCkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjpcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRFdmVudC5lbmRUaW1lLmdldE1pbnV0ZXMoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW49XCJkZW5zZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJuYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVUaW1lQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwi5pmC6ZaTXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxsV2lkdGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nQ29udGVudD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGNvbG9yPVwicHJpbWFyeVwiIG9uQ2xpY2s9e3RoaXMuY2xvc2VDcmVhdGluZ0V2ZW50RWRpdERpYWxvZ30+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5Y+W5raIXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gY29sb3I9XCJwcmltYXJ5XCIgb25DbGljaz17dGhpcy5jcmVhdGVFdmVudH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5pu05pawXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8RGlhbG9nIG9wZW49e3RoaXMuc3RhdGUuY3JlYXRpbmdFdmVudH0gYXJpYS1sYWJlbGxlZGJ5PVwiZm9ybS1kaWFsb2ctdGl0bGVcIiB3aWR0aD1cInhzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxEaWFsb2dDb250ZW50PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dExhYmVsIGh0bWxGb3I9XCJkZW1vLWRpYWxvZy1uYXRpdmVcIj7ooYzkuovmm4Y8L0lucHV0TGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdCBuYXRpdmUgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2FsZW5kYXJDaGFuZ2V9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FsZW5kYXJPcHRpb25zfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgYXV0b0ZvY3VzIG1hcmdpbj1cImRlbnNlXCIgaWQ9XCJuYW1lXCIgbGFiZWw9XCLkuovku7bmqJnpoYxcIiBmdWxsV2lkdGggb25DaGFuZ2U9e3RoaXMuaGFuZGxlVGl0bGVDaGFuZ2V9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkgKyBcIi9cIiArIG5ldyBEYXRlKCkuZ2V0TW9udGgoKSArIFwiL1wiICsgbmV3IERhdGUoKS5nZXREYXRlKCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luPVwiZGVuc2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwibmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlRGF0ZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIuaXpeacn1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKCkuZ2V0SG91cnMoKSArIFwiOlwiICsgbmV3IERhdGUoKS5nZXRNaW51dGVzKCkgKyBcIn5cIiArIChuZXcgRGF0ZSgpLmdldEhvdXJzKCkgKyAxKSArIFwiOlwiICsgbmV3IERhdGUoKS5nZXRNaW51dGVzKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luPVwiZGVuc2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwibmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlVGltZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIuaZgumWk1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZ0NvbnRlbnQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxEaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBjb2xvcj1cInByaW1hcnlcIiBvbkNsaWNrPXt0aGlzLmNsb3NlRXZlbnRDcmVhdGVEaWFsb2d9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWPlua2iFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGNvbG9yPVwicHJpbWFyeVwiIG9uQ2xpY2s9e3RoaXMuY3JlYXRlRXZlbnR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWJteeri1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nQWN0aW9ucz5cclxuICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPHN0eWxlIGdsb2JhbCBqc3g+e2BcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMjIyMjIyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDo6LXdlYmtpdC1zY3JvbGxiYXIge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDVweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDgwcHggMCA1cHggMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiKDgwLCA4MCwgODApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIERheVBpY2tlciBzdHlsZXMgKi9cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5EYXlQaWNrZXIge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuRGF5UGlja2VyLXdyYXBwZXIge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMWVtO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5EYXlQaWNrZXItTW9udGhzIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLkRheVBpY2tlci1Nb250aCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0YWJsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMCAxZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAxZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItc3BhY2luZzogMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLkRheVBpY2tlci1OYXZCdXR0b24ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAxZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogMS41ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBhdXRvO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDJweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxLjI1ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEuMjVlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtc2l6ZTogNTAlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjOGI5ODk4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuRGF5UGlja2VyLU5hdkJ1dHRvbjpob3ZlciB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5EYXlQaWNrZXItTmF2QnV0dG9uLS1wcmV2IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMS41ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNRQUFBQXdDQVlBQUFCNVI5Z1ZBQUFBQkdkQlRVRUFBTEdQQy94aEJRQUFBVlZKUkVGVVdBbk4yRzBLZ2pBWXdQSHBHZlJrYVplcXZnUWFLK2hZM1NVSHJrMVl6TkxheS9PaUVGcDkySSsvTXAyRjJNaDJsTElTV25mbEZqekgyNjNSUWp6TVoxOXdnczczZXowbzFXbXRXK2RnQTAxVnhyRTNwNmwyR0xzbkJ5MVZZUU90VlNFSC9hdENDZ3FwUWdLS3FZSU9pcTJDQmtxdGdnTEtxUUlLZ3FnQ0JqcEoyWTVDZEorenJUOUE3SEhTVEExZHhVZEhnekNxSklFd3EwU0RzS3NFZzZpcUJJRW9xL3dFY1ZSWkJYRlYrUUp4VjVtQnRsREZCNVZqWVRhR1oyc2Y0UjlQTTdVOVpVK2xMdWFldFBQLzVEaWUzVG9PMSt1K01LdEhzMDZxT0RCMnpCbkkvakJkNE1QUW0xVmtZNzlUYjE4Z0IrQzYyRmRCRnNaUjZ5ZUlvMVlRaUxKV01JaXFWalFJdTFZU0NMTldGZ2lqVmpZSXVoWVlDS29XS0FpaUZnb29weFlhS0xVV09paTJGZ2tvcGhZcDZGM3I0Mlc1QTlzOU9jZ052dmE4eFFheXNLWGxGeXRvcWRZbVFINnRGM3RvU1VvMElOcTlBQUFBQUVsRlRrU3VRbUNDXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuRGF5UGlja2VyLU5hdkJ1dHRvbi0tbmV4dCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNRQUFBQXdDQVlBQUFCNVI5Z1ZBQUFBQkdkQlRVRUFBTEdQQy94aEJRQUFBWFJKUkVGVVdBbk4xMTl1Z2pBY3dQSFd6SjFnbm14ekIvQkJFMG4yNG00eGZOa1RhT0w3d090c2wzQVhNTWIrVmphYTFCRzAwTjhmU0VpYlBwQVAzeEFLS3MyeWp6VFBIOVJBamhFbzlXelByL1ZtOHpnRTArZ1hBVEF4eHV4dHFlSjl0NXRJd3Y1QXRRQUFwc2ZUNlRQZGJwK2tVQmNnVnd2TzUxS3FWaE1rWEtzVkpGWHJPa2lnVmhDSXMxWTRpS2xXWnhCMXJYNGd3bHBSSUlwYThTRGtXbWdnckZxNElJUmFKS0NZV25TZ25yWElRVjFyOFlEKzFWcm4rYlJlYWd5c0lGZkxBQlJ0MzF2OG9CdTF4RUJ0dGZSYmx0bWZqZ0VjV2g5c25VUzJrTmRCSzZXTjF2ck9XeE9iV3N6K2ZqeGV2c3htQjFHUURmSU5XaWV2ODNuaGFvaUIvQ29PVTQzOG9QcmhYUzBXcFE5eGMxWlFXeFdIcVVZZTBJMHFyS0NRS2p5Z0RsWElRVjJyMElGNlZpRUJ4VlRCQlNGVVFRTmhWWWtISVZlSkF0a05zYlE3YzFMdHpQNkZzT2JoYjJyQ0t2N05CSUdvcTRTRG1Lb0VnVGlyWEFjSlZHa0ZTVlZwZ29TclhJQ0dVTVVIL1FCWk5TVXk1WFdVaHdBQUFBQkpSVTVFcmtKZ2dnPT1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5EYXlQaWNrZXItTmF2QnV0dG9uLS1pbnRlcmFjdGlvbkRpc2FibGVkIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5EYXlQaWNrZXItQ2FwdGlvbiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0YWJsZS1jYXB0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMC41ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwIDAuNWVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLkRheVBpY2tlci1DYXB0aW9uID4gZGl2IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEuMTVlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLkRheVBpY2tlci1XZWVrZGF5cyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0YWJsZS1oZWFkZXItZ3JvdXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAxZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5EYXlQaWNrZXItV2Vla2RheXNSb3cge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdGFibGUtcm93O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuRGF5UGlja2VyLVdlZWtkYXkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdGFibGUtY2VsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuNWVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM4Yjk4OTg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDAuODc1ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5EYXlQaWNrZXItV2Vla2RheSBhYmJyW3RpdGxlXSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiBub25lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuRGF5UGlja2VyLUJvZHkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdGFibGUtcm93LWdyb3VwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuRGF5UGlja2VyLVdlZWsge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdGFibGUtcm93O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuRGF5UGlja2VyLURheSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMC41ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGdyYXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5EYXlQaWNrZXItV2Vla051bWJlciB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMC41ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW4td2lkdGg6IDFlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNlYWVjZWM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzhiOTg5ODtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC43NWVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuRGF5UGlja2VyLS1pbnRlcmFjdGlvbkRpc2FibGVkIC5EYXlQaWNrZXItRGF5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogZGVmYXVsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLkRheVBpY2tlci1Gb290ZXIge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZy10b3A6IDAuNWVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuRGF5UGlja2VyLVRvZGF5QnV0dG9uIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogbm9uZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IG5vbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzRhOTBlMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44NzVlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLkRheVBpY2tlci1EYXktLXRvZGF5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5EYXlQaWNrZXItRGF5LS1vdXRzaWRlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjOGI5ODk4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBkZWZhdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuRGF5UGlja2VyLURheS0tZGlzYWJsZWQge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNkY2UwZTA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IGRlZmF1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBiYWNrZ3JvdW5kLWNvbG9yOiAjZWZmMWYxOyAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBFeGFtcGxlIG1vZGlmaWVycyAqL1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLkRheVBpY2tlci1EYXktLXN1bmRheSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmOGY4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuRGF5UGlja2VyLURheS0tc3VuZGF5Om5vdCguRGF5UGlja2VyLURheS0tdG9kYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZGNlMGUwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuRGF5UGlja2VyLURheS0tc2VsZWN0ZWQ6bm90KC5EYXlQaWNrZXItRGF5LS1kaXNhYmxlZCk6bm90KC5EYXlQaWNrZXItRGF5LS1vdXRzaWRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzRhOTBlMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZjBmOGZmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuRGF5UGlja2VyLURheS0tc2VsZWN0ZWQ6bm90KC5EYXlQaWNrZXItRGF5LS1kaXNhYmxlZCk6bm90KC5EYXlQaWNrZXItRGF5LS1vdXRzaWRlKTpob3ZlciB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTFhMGZhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuRGF5UGlja2VyOm5vdCguRGF5UGlja2VyLS1pbnRlcmFjdGlvbkRpc2FibGVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLkRheVBpY2tlci1EYXk6bm90KC5EYXlQaWNrZXItRGF5LS1kaXNhYmxlZCk6bm90KC5EYXlQaWNrZXItRGF5LS1zZWxlY3RlZCk6bm90KC5EYXlQaWNrZXItRGF5LS1vdXRzaWRlKTpob3ZlciB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmOGZmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBEYXlQaWNrZXJJbnB1dCAqL1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLkRheVBpY2tlcklucHV0IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLkRheVBpY2tlcklucHV0LU92ZXJsYXlXcmFwcGVyIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLkRheVBpY2tlcklucHV0LU92ZXJsYXkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHotaW5kZXg6IDE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDJweCA1cHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGB9PC9zdHlsZT5cclxuICAgICAgICAgICAgICAgIDwvQ29udGFpbmVyPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiA8cD5sb2FkaW5nPC9wPjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGluZGV4O1xyXG4iXX0= */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\imyua\\\\\\\\dev\\\\\\\\calendar\\\\\\\\pages\\\\\\\\index.js */\"));\n      } else {\n        return __jsx(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 618\n          },\n          __self: this\n        }, \"loading\");\n      }\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps() {\n      var res, json, userdata, etd, filled;\n      return _regeneratorRuntime.async(function getInitialProps$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _regeneratorRuntime.awrap(fetch(\"http://localhost:3000/api/getuserdata\"));\n\n            case 2:\n              res = _context4.sent;\n              _context4.next = 5;\n              return _regeneratorRuntime.awrap(res.json());\n\n            case 5:\n              json = _context4.sent;\n              userdata = new User(json);\n              etd = eventsToDispay(userdata.calendars, new Date());\n              filled = fillEvents(eventsToDispay(userdata.calendars, new Date()), new Date());\n              return _context4.abrupt(\"return\", {\n                userdata: userdata,\n                filled: filled,\n                eventsToDispay: etd\n              });\n\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      });\n    }\n  }]);\n\n  return index;\n}(React.Component);\n\nexport default index;","map":{"version":3,"sources":["C:/Users/imyua/dev/calendar/pages/index.js"],"names":["React","Container","DayView","fetch","Grid","User","Calendar","Event","DayPicker","TextField","Dialog","Button","DialogActions","DialogContent","FormControl","InputLabel","Select","Paper","startOfDay","date","Date","console","error","time","setTime","getTime","setHours","endOfDay","fillEvents","events","filled","Array","map","event","startTime","endTime","getHours","push","eventsToDispay","calendars","calendar","getFullYear","getMonth","getDate","isAllDayEvent","sort","a","b","index","props","state","selectedDay","userdata","inputing","title","editingEvent","creatingEvent","selectedEvent","color","handleDayClick","bind","openEventEditDialog","closeEventEditDialog","openEventCreateDialog","closeEventCreateDialog","updateEvent","createEvent","handleTitleChange","handleDateChange","handleTimeChange","handleCalendarChange","day","selected","setState","setTimeout","getMinutes","newStartTime","newEndTime","setFullYear","split","newdata","method","body","res","json","etd","id","e","target","value","undefined","calendarOptions","dayDescription","DayA","DayB","marginTop","backgroundColor","padding","marginLeft","marginBottom","overflowY","maxHeight","closeCreatingEventEditDialog","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Container from \"@material-ui/core/container\";\r\nimport DayView from \"../comps/DayView\";\r\nimport fetch from \"isomorphic-unfetch\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { User, Calendar, Event } from \"../classes\";\r\nimport DayPicker from \"react-day-picker\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nfunction startOfDay(date) {\r\n    if (!date instanceof Date) {\r\n        console.error(\"傳入的時間不是合法的 Date 物件。\");\r\n        return null;\r\n    }\r\n    date = new Date(date);\r\n    var time = new Date();\r\n    time.setTime(date.getTime());\r\n    time.setHours(0, 0, 0);\r\n    return time;\r\n}\r\n\r\nfunction endOfDay(date) {\r\n    if (!date instanceof Date) {\r\n        console.error(\"傳入的時間不是合法的 Date 物件。\");\r\n        return null;\r\n    }\r\n    date = new Date(date);\r\n    var time = new Date();\r\n    time.setTime(date.getTime());\r\n    time.setHours(23, 59, 59);\r\n    return time;\r\n}\r\n\r\nfunction fillEvents(events, date) {\r\n    var filled = new Array();\r\n    var time = startOfDay(date);\r\n    events.map(event => {\r\n        var startTime = new Date(event.startTime);\r\n        var endTime = new Date(event.endTime);\r\n        if (startTime.getHours() > endTime.getHours()) {\r\n            endTime.setHours(23, 59, 59);\r\n        }\r\n        filled.push(new Event({ startTime: time, endTime: startTime }, true));\r\n        filled.push(event);\r\n        time.setTime(endTime.getTime());\r\n    });\r\n    filled.push(new Event({ startTime: time, endTime: endOfDay(date) }, true));\r\n    return filled;\r\n}\r\n\r\nfunction eventsToDispay(calendars, date) {\r\n    var eventsToDispay = [];\r\n    calendars.map(calendar => {\r\n        calendar = new Calendar(calendar);\r\n        calendar.events.map(event => {\r\n            if (\r\n                event.startTime.getFullYear() == date.getFullYear() &&\r\n                event.startTime.getMonth() == date.getMonth() &&\r\n                event.startTime.getDate() == date.getDate() &&\r\n                !event.isAllDayEvent()\r\n            ) {\r\n                eventsToDispay.push(event);\r\n            }\r\n        });\r\n    });\r\n    eventsToDispay.sort((a, b) => a.startTime - b.startTime);\r\n    return eventsToDispay;\r\n}\r\n\r\nclass index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedDay: new Date(),\r\n            eventsToDispay: [],\r\n            userdata: {},\r\n            filled: [],\r\n            inputing: {\r\n                title: \"\",\r\n                date: \"\",\r\n                time: \"\"\r\n            },\r\n            editingEvent: false,\r\n            creatingEvent: false,\r\n            selectedEvent: new Event({\r\n                title: \"選中的事件\",\r\n                startTime: new Date(),\r\n                endTime: new Date(),\r\n                color: [\"#fd3721\", \"#b721ff\"]\r\n            })\r\n        };\r\n        this.handleDayClick = this.handleDayClick.bind(this);\r\n        this.openEventEditDialog = this.openEventEditDialog.bind(this);\r\n        this.closeEventEditDialog = this.closeEventEditDialog.bind(this);\r\n        this.openEventCreateDialog = this.openEventCreateDialog.bind(this);\r\n        this.closeEventCreateDialog = this.closeEventCreateDialog.bind(this);\r\n        this.updateEvent = this.updateEvent.bind(this);\r\n        this.createEvent = this.createEvent.bind(this);\r\n        this.handleTitleChange = this.handleTitleChange.bind(this);\r\n        this.handleDateChange = this.handleDateChange.bind(this);\r\n        this.handleTimeChange = this.handleTimeChange.bind(this);\r\n        this.handleCalendarChange = this.handleCalendarChange.bind(this);\r\n    }\r\n\r\n    async handleDayClick(day, { selected }) {\r\n        this.setState({\r\n            selectedDay: selected ? new Date() : day\r\n        });\r\n    }\r\n\r\n    static async getInitialProps() {\r\n        const res = await fetch(\"http://localhost:3000/api/getuserdata\");\r\n        const json = await res.json();\r\n        var userdata = new User(json);\r\n        var etd = eventsToDispay(userdata.calendars, new Date());\r\n        var filled = fillEvents(eventsToDispay(userdata.calendars, new Date()), new Date());\r\n        return { userdata: userdata, filled: filled, eventsToDispay: etd };\r\n    }\r\n\r\n    componentDidMount() {\r\n        setTimeout(() => {\r\n            var filled = fillEvents(this.props.eventsToDispay, new Date());\r\n            this.setState({ filled: filled, userdata: this.props.userdata });\r\n        }, 200);\r\n    }\r\n\r\n    openEventEditDialog(event) {\r\n        this.setState({\r\n            selectedEvent: event,\r\n            editingEvent: true,\r\n            inputing: {\r\n                title: event.title,\r\n                date: event.startTime.getFullYear() + \"/\" + event.startTime.getMonth() + \"/\" + event.startTime.getDate(),\r\n                time: event.startTime.getHours() + \":\" + event.startTime.getMinutes() + \"~\" + event.endTime.getHours() + \":\" + event.endTime.getMinutes()\r\n            }\r\n        });\r\n    }\r\n\r\n    closeEventEditDialog() {\r\n        this.setState({ editingEvent: false });\r\n    }\r\n\r\n    openEventCreateDialog() {\r\n        this.setState({\r\n            creatingEvent: true,\r\n            inputing: { date: this.state.selectedDay.getFullYear() + \"/\" + this.state.selectedDay.getMonth() + \"/\" + this.state.selectedDay.getDate() }\r\n        });\r\n    }\r\n\r\n    closeEventCreateDialog() {\r\n        this.setState({ creatingEvent: false });\r\n    }\r\n\r\n    async createEvent() {\r\n        var newStartTime = new Date();\r\n        var newEndTime = new Date();\r\n        newStartTime.setFullYear(this.state.inputing.date.split(\"/\")[0], this.state.inputing.date.split(\"/\")[1], this.state.inputing.date.split(\"/\")[2]);\r\n        newEndTime.setFullYear(this.state.inputing.date.split(\"/\")[0], this.state.inputing.date.split(\"/\")[1], this.state.inputing.date.split(\"/\")[2]);\r\n        newStartTime.setHours(this.state.inputing.time.split(\"~\")[0].split(\":\")[0], this.state.inputing.time.split(\"~\")[0].split(\":\")[1]);\r\n        newEndTime.setHours(this.state.inputing.time.split(\"~\")[1].split(\":\")[0], this.state.inputing.time.split(\"~\")[1].split(\":\")[1]);\r\n        var newdata = new User(this.state.userdata);\r\n        newdata.calendars.map(calendar => {\r\n            if (calendar.title == this.state.inputing.calendar) {\r\n                calendar.events.push(new Event({ title: this.state.inputing.title, startTime: newStartTime, endTime: newEndTime, color: calendar.color }));\r\n            }\r\n        });\r\n        await fetch(\"http://localhost:3000/api/updateuserdata\", { method: \"post\", body: JSON.stringify({ calendars: newdata.calendars }) });\r\n        this.setState({ creatingEvent: false });\r\n        const res = await fetch(\"http://localhost:3000/api/getuserdata\");\r\n        const json = await res.json();\r\n        var userdata = new User(json);\r\n        var etd = eventsToDispay(userdata.calendars, new Date());\r\n        var filled = fillEvents(eventsToDispay(userdata.calendars, new Date()), new Date());\r\n        this.setState({ userdata: userdata, filled: filled, eventsToDispay: etd });\r\n    }\r\n\r\n    async updateEvent() {\r\n        var newStartTime = new Date();\r\n        var newEndTime = new Date();\r\n        newStartTime.setFullYear(this.state.inputing.date.split(\"/\")[0], this.state.inputing.date.split(\"/\")[1], this.state.inputing.date.split(\"/\")[2]);\r\n        newEndTime.setFullYear(this.state.inputing.date.split(\"/\")[0], this.state.inputing.date.split(\"/\")[1], this.state.inputing.date.split(\"/\")[2]);\r\n        newStartTime.setHours(this.state.inputing.time.split(\"~\")[0].split(\":\")[0], this.state.inputing.time.split(\"~\")[0].split(\":\")[1]);\r\n        newEndTime.setHours(this.state.inputing.time.split(\"~\")[1].split(\":\")[0], this.state.inputing.time.split(\"~\")[1].split(\":\")[1]);\r\n        var newdata = new User(this.state.userdata);\r\n        newdata.calendars.map(calendar => {\r\n            calendar.events.map(event => {\r\n                if (event.id == this.state.selectedEvent.id) {\r\n                    event.startTime = newStartTime;\r\n                    event.endTime = newEndTime;\r\n                    event.title = this.state.inputing.title;\r\n                }\r\n            });\r\n        });\r\n        await fetch(\"http://localhost:3000/api/updateuserdata\", { method: \"post\", body: JSON.stringify({ calendars: newdata.calendars }) });\r\n        this.setState({ editingEvent: false });\r\n        const res = await fetch(\"http://localhost:3000/api/getuserdata\");\r\n        const json = await res.json();\r\n        var userdata = new User(json);\r\n        var etd = eventsToDispay(userdata.calendars, new Date());\r\n        var filled = fillEvents(eventsToDispay(userdata.calendars, new Date()), new Date());\r\n        this.setState({ userdata: userdata, filled: filled, eventsToDispay: etd });\r\n    }\r\n\r\n    handleTitleChange(e) {\r\n        this.state.inputing.title = e.target.value;\r\n    }\r\n\r\n    handleDateChange(e) {\r\n        this.state.inputing.date = e.target.value;\r\n    }\r\n\r\n    handleTimeChange(e) {\r\n        this.state.inputing.time = e.target.value;\r\n    }\r\n\r\n    handleCalendarChange(e) {\r\n        this.state.inputing.calendar = e.target.value;\r\n    }\r\n\r\n    render() {\r\n        if (this.state.userdata.calendars != undefined) {\r\n            var calendarOptions = this.state.userdata.calendars.map(calendar => {\r\n                return (\r\n                    <option key={calendar.title} value={calendar.title}>\r\n                        {calendar.title}\r\n                    </option>\r\n                );\r\n            });\r\n            var filled = fillEvents(eventsToDispay(this.state.userdata.calendars, this.state.selectedDay), this.state.selectedDay);\r\n\r\n            var dayDescription = \"\";\r\n            var DayA = new Date(this.state.selectedDay);\r\n            var DayB = new Date();\r\n            DayA.setHours(12, 0, 0);\r\n            DayB.setHours(12, 0, 0);\r\n            if (parseInt((DayA - DayB) / 3600000) < 0) {\r\n                if (parseInt((DayA - DayB) / 3600000) == 0) dayDescription = \"今天\";\r\n                else if (parseInt((DayA - DayB) / 3600000) == -24) dayDescription = \"昨天\";\r\n                else if (parseInt((DayA - DayB) / 3600000) == -48) dayDescription = \"前天\";\r\n                else dayDescription = parseInt((DayA - DayB) / 3600000 / -24) + \" 天前\";\r\n            } else {\r\n                if (parseInt((DayA - DayB) / 3600000) == 0) dayDescription = \"今天\";\r\n                else if (parseInt((DayA - DayB) / 3600000) == 23) dayDescription = \"明天\";\r\n                else if (parseInt((DayA - DayB) / 3600000) == 47) dayDescription = \"後天\";\r\n                else dayDescription = parseInt((DayA - DayB) / 3600000 / 24) + 1 + \" 天後\";\r\n            }\r\n\r\n            return (\r\n                <Container maxWidth=\"md\">\r\n                    <Grid container>\r\n                        <Grid item xs={4}>\r\n                            <div style={{ marginTop: 60 }}>\r\n                                <Paper elevation={20} style={{backgroundColor: \"#444444\", padding: 16}}>\r\n                                    <DayPicker selectedDays={this.state.selectedDay} onDayClick={this.handleDayClick} />\r\n                                </Paper>\r\n                            </div>\r\n                            <div style={{ marginLeft: 26, marginTop: 60 }}>\r\n                                <h2 style={{ color: \"white\", marginBottom: 16 }}>\r\n                                    {this.state.selectedDay.getFullYear()} / {this.state.selectedDay.getMonth() + 1} / {this.state.selectedDay.getDate()}\r\n                                </h2>\r\n                                <p style={{ color: \"gray\", marginTop: 0 }}>{dayDescription}</p>\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item xs={8}>\r\n                            <div\r\n                                style={{\r\n                                    overflowY: \"scroll\",\r\n                                    maxHeight: \"90vh\",\r\n                                    padding: 24,\r\n                                    marginLeft: 60\r\n                                }}\r\n                            >\r\n                                <DayView events={filled} openEventEditDialog={this.openEventEditDialog} openEventCreateDialog={this.openEventCreateDialog} />\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <Dialog open={this.state.editingEvent} aria-labelledby=\"form-dialog-title\" width=\"xs\">\r\n                        <DialogContent>\r\n                            <TextField\r\n                                autoFocus\r\n                                defaultValue={this.state.selectedEvent.title}\r\n                                margin=\"dense\"\r\n                                id=\"name\"\r\n                                label=\"事件標題\"\r\n                                fullWidth\r\n                                onChange={this.handleTitleChange}\r\n                            />\r\n                            <TextField\r\n                                defaultValue={\r\n                                    this.state.selectedEvent.startTime.getFullYear() +\r\n                                    \"/\" +\r\n                                    this.state.selectedEvent.startTime.getMonth() +\r\n                                    \"/\" +\r\n                                    this.state.selectedEvent.startTime.getDate()\r\n                                }\r\n                                margin=\"dense\"\r\n                                id=\"name\"\r\n                                onChange={this.handleDateChange}\r\n                                label=\"日期\"\r\n                                fullWidth\r\n                            />\r\n                            <TextField\r\n                                defaultValue={\r\n                                    this.state.selectedEvent.startTime.getHours() +\r\n                                    \":\" +\r\n                                    this.state.selectedEvent.startTime.getMinutes() +\r\n                                    \"~\" +\r\n                                    this.state.selectedEvent.endTime.getHours() +\r\n                                    \":\" +\r\n                                    this.state.selectedEvent.endTime.getMinutes()\r\n                                }\r\n                                margin=\"dense\"\r\n                                id=\"name\"\r\n                                onChange={this.handleTimeChange}\r\n                                label=\"時間\"\r\n                                fullWidth\r\n                            />\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                            <Button color=\"primary\" onClick={this.closeCreatingEventEditDialog}>\r\n                                取消\r\n                            </Button>\r\n                            <Button color=\"primary\" onClick={this.createEvent}>\r\n                                更新\r\n                            </Button>\r\n                        </DialogActions>\r\n                    </Dialog>\r\n\r\n                    <Dialog open={this.state.creatingEvent} aria-labelledby=\"form-dialog-title\" width=\"xs\">\r\n                        <DialogContent>\r\n                            <FormControl>\r\n                                <InputLabel htmlFor=\"demo-dialog-native\">行事曆</InputLabel>\r\n                                <Select native onChange={this.handleCalendarChange}>\r\n                                    {calendarOptions}\r\n                                </Select>\r\n                            </FormControl>\r\n                            <TextField autoFocus margin=\"dense\" id=\"name\" label=\"事件標題\" fullWidth onChange={this.handleTitleChange} />\r\n                            <TextField\r\n                                defaultValue={new Date().getFullYear() + \"/\" + new Date().getMonth() + \"/\" + new Date().getDate()}\r\n                                margin=\"dense\"\r\n                                id=\"name\"\r\n                                onChange={this.handleDateChange}\r\n                                label=\"日期\"\r\n                                fullWidth\r\n                            />\r\n                            <TextField\r\n                                defaultValue={\r\n                                    new Date().getHours() + \":\" + new Date().getMinutes() + \"~\" + (new Date().getHours() + 1) + \":\" + new Date().getMinutes()\r\n                                }\r\n                                margin=\"dense\"\r\n                                id=\"name\"\r\n                                onChange={this.handleTimeChange}\r\n                                label=\"時間\"\r\n                                fullWidth\r\n                            />\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                            <Button color=\"primary\" onClick={this.closeEventCreateDialog}>\r\n                                取消\r\n                            </Button>\r\n                            <Button color=\"primary\" onClick={this.createEvent}>\r\n                                創立\r\n                            </Button>\r\n                        </DialogActions>\r\n                    </Dialog>\r\n\r\n                    <style global jsx>{`\r\n                        body {\r\n                            background: #222222;\r\n                        }\r\n                        ::-webkit-scrollbar {\r\n                            width: 5px;\r\n                        }\r\n                        ::-webkit-scrollbar-track {\r\n                            -webkit-border-radius: 10px;\r\n                            border-radius: 10px;\r\n                            margin: 80px 0 5px 0;\r\n                        }\r\n                        ::-webkit-scrollbar-thumb {\r\n                            -webkit-border-radius: 4px;\r\n                            border-radius: 4px;\r\n                            background: rgb(80, 80, 80);\r\n                        }\r\n                        /* DayPicker styles */\r\n\r\n                        .DayPicker {\r\n                            display: inline-block;\r\n                            font-size: 1rem;\r\n                        }\r\n\r\n                        .DayPicker-wrapper {\r\n                            position: relative;\r\n\r\n                            flex-direction: row;\r\n                            padding-bottom: 1em;\r\n\r\n                            -webkit-user-select: none;\r\n\r\n                            -moz-user-select: none;\r\n\r\n                            -ms-user-select: none;\r\n\r\n                            user-select: none;\r\n                        }\r\n\r\n                        .DayPicker-Months {\r\n                            display: flex;\r\n                            flex-wrap: wrap;\r\n                            justify-content: center;\r\n                        }\r\n\r\n                        .DayPicker-Month {\r\n                            display: table;\r\n                            margin: 0 1em;\r\n                            margin-top: 1em;\r\n                            border-spacing: 0;\r\n                            border-collapse: collapse;\r\n\r\n                            -webkit-user-select: none;\r\n\r\n                            -moz-user-select: none;\r\n\r\n                            -ms-user-select: none;\r\n\r\n                            user-select: none;\r\n                        }\r\n\r\n                        .DayPicker-NavButton {\r\n                            position: absolute;\r\n                            top: 1em;\r\n                            right: 1.5em;\r\n                            left: auto;\r\n\r\n                            display: inline-block;\r\n                            margin-top: 2px;\r\n                            width: 1.25em;\r\n                            height: 1.25em;\r\n                            background-position: center;\r\n                            background-size: 50%;\r\n                            background-repeat: no-repeat;\r\n                            color: #8b9898;\r\n                            cursor: pointer;\r\n                        }\r\n\r\n                        .DayPicker-NavButton:hover {\r\n                            opacity: 0.8;\r\n                        }\r\n\r\n                        .DayPicker-NavButton--prev {\r\n                            margin-right: 1.5em;\r\n                            background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAVVJREFUWAnN2G0KgjAYwPHpGfRkaZeqvgQaK+hY3SUHrk1YzNLay/OiEFp92I+/Mp2F2Mh2lLISWnflFjzH263RQjzMZ19wgs73ez0o1WmtW+dgA01VxrE3p6l2GLsnBy1VYQOtVSEH/atCCgqpQgKKqYIOiq2CBkqtggLKqQIKgqgCBjpJ2Y5CdJ+zrT9A7HHSTA1dxUdHgzCqJIEwq0SDsKsEg6iqBIEoq/wEcVRZBXFV+QJxV5mBtlDFB5VjYTaGZ2sf4R9PM7U9ZU+lLuaetPP/5Die3ToO1+u+MKtHs06qODB2zBnI/jBd4MPQm1VkY79Tb18gB+C62FdBFsZR6yeIo1YQiLJWMIiqVjQIu1YSCLNWFgijVjYIuhYYCKoWKAiiFgoopxYaKLUWOii2FgkophYp6F3r42W5A9s9OcgNvva8xQaysKXlFytoqdYmQH6tF3toSUo0INq9AAAAAElFTkSuQmCC\");\r\n                        }\r\n\r\n                        .DayPicker-NavButton--next {\r\n                            background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAXRJREFUWAnN119ugjAcwPHWzJ1gnmxzB/BBE0n24m4xfNkTaOL7wOtsl3AXMMb+Vjaa1BG00N8fSEibPpAP3xAKKs2yjzTPH9RAjhEo9WzPr/Vm8zgE0+gXATAxxuxtqeJ9t5tIwv5AtQAApsfT6TPdbp+kUBcgVwvO51KqVhMkXKsVJFXrOkigVhCIs1Y4iKlWZxB1rX4gwlpRIIpa8SDkWmggrFq4IIRaJKCYWnSgnrXIQV1r8YD+1Vrn+bReagysIFfLABRt31v8oBu1xEBttfRbltmfjgEcWh9snUS2kNdBK6WN1vrOWxObWsz+fjxevsxmB1GQDfINWiev83nhaoiB/CoOU438oPrhXS0WpQ9xc1ZQWxWHqUYe0I0qrKCQKjygDlXIQV2r0IF6ViEBxVTBBSFUQQNhVYkHIVeJAtkNsbQ7c1LtzP6FsObhb2rCKv7NBIGoq4SDmKoEgTirXAcJVGkFSVVpgoSrXICGUMUH/QBZNSUy5XWUhwAAAABJRU5ErkJggg==\");\r\n                        }\r\n\r\n                        .DayPicker-NavButton--interactionDisabled {\r\n                            display: none;\r\n                        }\r\n\r\n                        .DayPicker-Caption {\r\n                            display: table-caption;\r\n                            margin-bottom: 0.5em;\r\n                            padding: 0 0.5em;\r\n                            text-align: left;\r\n                            color: white;\r\n                        }\r\n\r\n                        .DayPicker-Caption > div {\r\n                            font-weight: 500;\r\n                            font-size: 1.15em;\r\n                        }\r\n\r\n                        .DayPicker-Weekdays {\r\n                            display: table-header-group;\r\n                            margin-top: 1em;\r\n                        }\r\n\r\n                        .DayPicker-WeekdaysRow {\r\n                            display: table-row;\r\n                        }\r\n\r\n                        .DayPicker-Weekday {\r\n                            display: table-cell;\r\n                            padding: 0.5em;\r\n                            color: #8b9898;\r\n                            text-align: center;\r\n                            font-size: 0.875em;\r\n                        }\r\n\r\n                        .DayPicker-Weekday abbr[title] {\r\n                            border-bottom: none;\r\n                            text-decoration: none;\r\n                        }\r\n\r\n                        .DayPicker-Body {\r\n                            display: table-row-group;\r\n                        }\r\n\r\n                        .DayPicker-Week {\r\n                            display: table-row;\r\n                        }\r\n\r\n                        .DayPicker-Day {\r\n                            display: table-cell;\r\n                            padding: 0.5em;\r\n                            border-radius: 50%;\r\n                            vertical-align: middle;\r\n                            text-align: center;\r\n                            cursor: pointer;\r\n                            color: gray;\r\n                        }\r\n\r\n                        .DayPicker-WeekNumber {\r\n                            display: table-cell;\r\n                            padding: 0.5em;\r\n                            min-width: 1em;\r\n                            border-right: 1px solid #eaecec;\r\n                            color: #8b9898;\r\n                            vertical-align: middle;\r\n                            text-align: right;\r\n                            font-size: 0.75em;\r\n                            cursor: pointer;\r\n                        }\r\n\r\n                        .DayPicker--interactionDisabled .DayPicker-Day {\r\n                            cursor: default;\r\n                        }\r\n\r\n                        .DayPicker-Footer {\r\n                            padding-top: 0.5em;\r\n                        }\r\n\r\n                        .DayPicker-TodayButton {\r\n                            border: none;\r\n                            background-color: transparent;\r\n                            background-image: none;\r\n                            box-shadow: none;\r\n                            color: #4a90e2;\r\n                            font-size: 0.875em;\r\n                            cursor: pointer;\r\n                        }\r\n\r\n                        .DayPicker-Day--today {\r\n                            color: white;\r\n                            font-weight: 700;\r\n                        }\r\n\r\n                        .DayPicker-Day--outside {\r\n                            color: #8b9898;\r\n                            cursor: default;\r\n                        }\r\n\r\n                        .DayPicker-Day--disabled {\r\n                            color: #dce0e0;\r\n                            cursor: default;\r\n                            /* background-color: #eff1f1; */\r\n                        }\r\n\r\n                        /* Example modifiers */\r\n\r\n                        .DayPicker-Day--sunday {\r\n                            background-color: #f7f8f8;\r\n                        }\r\n\r\n                        .DayPicker-Day--sunday:not(.DayPicker-Day--today) {\r\n                            color: #dce0e0;\r\n                        }\r\n\r\n                        .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside) {\r\n                            position: relative;\r\n\r\n                            background-color: #4a90e2;\r\n                            color: #f0f8ff;\r\n                        }\r\n\r\n                        .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover {\r\n                            background-color: #51a0fa;\r\n                        }\r\n\r\n                        .DayPicker:not(.DayPicker--interactionDisabled)\r\n                            .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside):hover {\r\n                            background-color: #f0f8ff;\r\n                        }\r\n\r\n                        /* DayPickerInput */\r\n\r\n                        .DayPickerInput {\r\n                            display: inline-block;\r\n                        }\r\n\r\n                        .DayPickerInput-OverlayWrapper {\r\n                            position: relative;\r\n                        }\r\n\r\n                        .DayPickerInput-Overlay {\r\n                            position: absolute;\r\n                            left: 0;\r\n                            z-index: 1;\r\n\r\n                            background: white;\r\n                            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);\r\n                        }\r\n                    `}</style>\r\n                </Container>\r\n            );\r\n        } else {\r\n            return <p>loading</p>;\r\n        }\r\n    }\r\n}\r\n\r\nexport default index;\r\n"]},"metadata":{},"sourceType":"module"}