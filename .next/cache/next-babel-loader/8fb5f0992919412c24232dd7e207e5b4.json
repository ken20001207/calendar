{"ast":null,"code":"import _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\imyua\\\\dev\\\\calendar\\\\comps\\\\eventCard.js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Paper from \"@material-ui/core/Paper\";\n\nfunction emptyCard(startTime, endTime) {\n  endTime = new Date(endTime);\n  startTime = new Date(startTime);\n  var duration = (endTime - startTime) / 60000;\n  var cardStyle = {\n    height: duration,\n    backgroundColor: \"transparent\",\n    borderBottomStyle: endTime.getMinutes() == 0 ? \"solid\" : \"none\",\n    borderBottomColor: \"#444444\",\n    borderBottomWidth: 1,\n    borderTopStyle: startTime.getMinutes() == 0 ? \"solid\" : \"none\",\n    borderTopColor: \"#444444\",\n    borderTopWidth: 1\n  };\n  return __jsx(\"div\", {\n    style: cardStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  });\n}\n\nfunction EmptySections(start, end) {\n  var arr = new Array(end.getHours() - start.getHours() + 1);\n\n  if (start.getHours() == end.getHours()) {\n    arr[0] = emptyCard(start, end);\n  } else if (start.getHours() + 1 == end.getHours()) {\n    arr[0] = emptyCard(start, new Date(end).setMinutes(0));\n    arr[1] = emptyCard(new Date(end).setMinutes(0), end);\n  } else {\n    arr[0] = emptyCard(start, new Date(start).setHours(start.getHours() + 1, 0));\n\n    for (var i = start.getHours() + 1, j = 1; i < end.getHours(); i++, j++) {\n      arr[j] = emptyCard(new Date(start).setHours(i, 0), new Date(start).setHours(i + 1, 0));\n    }\n\n    arr[end.getHours() - start.getHours()] = emptyCard(new Date(end).setMinutes(0), end);\n  }\n\n  return arr;\n}\n\nvar EventCard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(EventCard, _React$Component);\n\n  function EventCard(props) {\n    var _this;\n\n    _classCallCheck(this, EventCard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EventCard).call(this, props));\n    _this.state = {\n      evelation: 0,\n      duration: (props.event.endTime - props.event.startTime) / 60000,\n      startTime: new Date(event.startTime),\n      endTime: new Date(event.endTime)\n    };\n    return _this;\n  }\n\n  _createClass(EventCard, [{\n    key: \"handleMouseOver\",\n    value: function handleMouseOver() {\n      this.setState({\n        evelation: 3\n      });\n    }\n  }, {\n    key: \"handleMouseLeave\",\n    value: function handleMouseLeave() {\n      this.setState({\n        evelation: 0\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      /** defalut styles */\n      var cardStyle = {\n        height: duration,\n        backgroundImage: \"linear-gradient(160deg, #fc8e8e 0%, #fcd9c3 100%)\",\n        fontSize: 8,\n        paddingLeft: 16,\n        paddingTop: 6,\n        paddingBottom: 6\n      };\n      /** background color according to calendar */\n\n      if (event.cal == \"重要事項\") cardStyle.backgroundImage = \"linear-gradient(315deg, #fd3721 0%, #b721ff 100%)\";else if (event.cal == \"開發設計\") cardStyle.backgroundImage = \"linear-gradient(315deg, #21D4FD 0%, #B721FF 100%)\";else if (event.cal == \"待辦事項\") cardStyle.backgroundImage = \"linear-gradient(123deg, #fdae21 0%, #fff521 100%)\";\n      /** compose event info of card */\n\n      var lineAmount = _parseInt(duration / 20) > 1 ? _parseInt(duration / 20) - 1 : 1;\n      var eventInfo = [];\n      eventInfo.push(__jsx(\"p\", {\n        style: {\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, event.title, \" \", __jsx(\"strong\", {\n        style: {\n          marginLeft: 16,\n          color: \"rgba(255,255,255,0.4)\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, startTime.getHours(), \":\", (startTime.getMinutes() < 10 ? \"0\" : \"\") + startTime.getMinutes(), \" -\", \" \", endTime.getHours(), \":\", (endTime.getMinutes() < 10 ? \"0\" : \"\") + endTime.getMinutes())));\n      eventInfo.push(__jsx(\"p\", {\n        style: {\n          color: \"rgba(255,255,255,0.8)\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, duration, \" \\u5206\\u9418\"));\n      eventInfo.push(__jsx(\"p\", {\n        style: {\n          color: \"rgba(255,255,255,0.8)\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, event.cal)); // render\n\n      if (event.cal !== null) return __jsx(Paper, {\n        style: cardStyle,\n        evelation: this.state.evelation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, eventInfo.slice(0, lineAmount).map(function (info) {\n        return info;\n      }));else {\n        return EmptySections(startTime, endTime).map(function (emptyCard) {\n          return emptyCard;\n        });\n      }\n    }\n  }]);\n\n  return EventCard;\n}(React.Component);\n\nexport default EventCard;","map":{"version":3,"sources":["C:/Users/imyua/dev/calendar/comps/eventCard.js"],"names":["React","Paper","emptyCard","startTime","endTime","Date","duration","cardStyle","height","backgroundColor","borderBottomStyle","getMinutes","borderBottomColor","borderBottomWidth","borderTopStyle","borderTopColor","borderTopWidth","EmptySections","start","end","arr","Array","getHours","setMinutes","setHours","i","j","EventCard","props","state","evelation","event","setState","backgroundImage","fontSize","paddingLeft","paddingTop","paddingBottom","cal","lineAmount","eventInfo","push","color","title","marginLeft","slice","map","info","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nfunction emptyCard(startTime, endTime) {\r\n    endTime = new Date(endTime);\r\n    startTime = new Date(startTime);\r\n    const duration = (endTime - startTime) / 60000;\r\n    var cardStyle = {\r\n        height: duration,\r\n        backgroundColor: \"transparent\",\r\n        borderBottomStyle: endTime.getMinutes() == 0 ? \"solid\" : \"none\",\r\n        borderBottomColor: \"#444444\",\r\n        borderBottomWidth: 1,\r\n        borderTopStyle: startTime.getMinutes() == 0 ? \"solid\" : \"none\",\r\n        borderTopColor: \"#444444\",\r\n        borderTopWidth: 1\r\n    };\r\n    return <div style={cardStyle} />;\r\n}\r\n\r\nfunction EmptySections(start, end) {\r\n    var arr = new Array(end.getHours() - start.getHours() + 1);\r\n    if (start.getHours() == end.getHours()) {\r\n        arr[0] = emptyCard(start, end);\r\n    } else if (start.getHours() + 1 == end.getHours()) {\r\n        arr[0] = emptyCard(start, new Date(end).setMinutes(0));\r\n        arr[1] = emptyCard(new Date(end).setMinutes(0), end);\r\n    } else {\r\n        arr[0] = emptyCard(start, new Date(start).setHours(start.getHours() + 1, 0));\r\n        for (var i = start.getHours() + 1, j = 1; i < end.getHours(); i++, j++) {\r\n            arr[j] = emptyCard(new Date(start).setHours(i, 0), new Date(start).setHours(i + 1, 0));\r\n        }\r\n        arr[end.getHours() - start.getHours()] = emptyCard(new Date(end).setMinutes(0), end);\r\n    }\r\n    return arr;\r\n}\r\n\r\nclass EventCard extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            evelation: 0,\r\n            duration: (props.event.endTime - props.event.startTime) / 60000,\r\n            startTime: new Date(event.startTime),\r\n            endTime: new Date(event.endTime)\r\n        };\r\n    }\r\n\r\n    handleMouseOver() {\r\n        this.setState({\r\n            evelation: 3\r\n        });\r\n    }\r\n\r\n    handleMouseLeave() {\r\n        this.setState({\r\n            evelation: 0\r\n        });\r\n    }\r\n\r\n    render() {\r\n        /** defalut styles */\r\n        var cardStyle = {\r\n            height: duration,\r\n            backgroundImage: \"linear-gradient(160deg, #fc8e8e 0%, #fcd9c3 100%)\",\r\n            fontSize: 8,\r\n            paddingLeft: 16,\r\n            paddingTop: 6,\r\n            paddingBottom: 6\r\n        };\r\n\r\n        /** background color according to calendar */\r\n        if (event.cal == \"重要事項\") cardStyle.backgroundImage = \"linear-gradient(315deg, #fd3721 0%, #b721ff 100%)\";\r\n        else if (event.cal == \"開發設計\")\r\n            cardStyle.backgroundImage = \"linear-gradient(315deg, #21D4FD 0%, #B721FF 100%)\";\r\n        else if (event.cal == \"待辦事項\")\r\n            cardStyle.backgroundImage = \"linear-gradient(123deg, #fdae21 0%, #fff521 100%)\";\r\n\r\n        /** compose event info of card */\r\n        var lineAmount = parseInt(duration / 20) > 1 ? parseInt(duration / 20) - 1 : 1;\r\n        var eventInfo = [];\r\n        eventInfo.push(\r\n            <p style={{ color: \"white\" }}>\r\n                {event.title}{\" \"}\r\n                <strong style={{ marginLeft: 16, color: \"rgba(255,255,255,0.4)\" }}>\r\n                    {startTime.getHours()}:{(startTime.getMinutes() < 10 ? \"0\" : \"\") + startTime.getMinutes()} -{\" \"}\r\n                    {endTime.getHours()}:{(endTime.getMinutes() < 10 ? \"0\" : \"\") + endTime.getMinutes()}\r\n                </strong>\r\n            </p>\r\n        );\r\n        eventInfo.push(<p style={{ color: \"rgba(255,255,255,0.8)\" }}>{duration} 分鐘</p>);\r\n        eventInfo.push(<p style={{ color: \"rgba(255,255,255,0.8)\" }}>{event.cal}</p>);\r\n\r\n        // render\r\n        if (event.cal !== null)\r\n            return (\r\n                <Paper style={cardStyle} evelation={this.state.evelation}>\r\n                    {eventInfo.slice(0, lineAmount).map(info => {\r\n                        return info;\r\n                    })}\r\n                </Paper>\r\n            );\r\n        else {\r\n            return EmptySections(startTime, endTime).map(emptyCard => {\r\n                return emptyCard;\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport default EventCard;\r\n"]},"metadata":{},"sourceType":"module"}