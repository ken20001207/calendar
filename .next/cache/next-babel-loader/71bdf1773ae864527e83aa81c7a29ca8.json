{"ast":null,"code":"import nextConnect from \"next-connect\";\nimport middleware from \"./database\";\nimport { User, Calendar, Event } from \"../../classes\";\nconst handler = nextConnect();\nhandler.use(middleware);\nhandler.get(async (req, res) => {\n  let doc = await req.db.collection(\"userdata\", function (err, collection) {\n    if (err) console.log(err);\n    collection.insertOne(new User({\n      username: \"ken20001207\",\n      calendars: [new Calendar({\n        title: \"預設行事曆1\",\n        color: [\"#fd3721\", \"#b721ff\"],\n        events: [new Event({\n          title: \"預設事項1\",\n          startTime: new Date(\"2020/2/23 10:00\"),\n          endTime: new Date(\"2020/2/23 11:00\"),\n          color: [\"#fd3721\", \"#b721ff\"]\n        }), new Event({\n          title: \"預設事項2\",\n          startTime: new Date(\"2020/2/24 13:00\"),\n          endTime: new Date(\"2020/2/24 14:00\"),\n          color: [\"#fd3721\", \"#b721ff\"]\n        }), new Event({\n          title: \"預設事項3\",\n          startTime: new Date(\"2020/2/23 16:00\"),\n          endTime: new Date(\"2020/2/23 17:00\"),\n          color: [\"#fd3721\", \"#b721ff\"]\n        })]\n      }), new Calendar({\n        title: \"預設行事曆2\",\n        color: [\"#B721FF\", \"#21D4FD\"],\n        events: [new Event({\n          title: \"預設事項4\",\n          startTime: new Date(\"2020/2/24 10:00\"),\n          endTime: new Date(\"2020/2/24 11:00\"),\n          color: [\"#B721FF\", \"#21D4FD\"]\n        }), new Event({\n          title: \"預設事項5\",\n          startTime: new Date(\"2020/2/23 12:00\"),\n          endTime: new Date(\"2020/2/23 13:30\"),\n          color: [\"#B721FF\", \"#21D4FD\"]\n        }), new Event({\n          title: \"預設事項6\",\n          startTime: new Date(\"2020/2/24 15:00\"),\n          endTime: new Date(\"2020/2/24 15:30\"),\n          color: [\"#B721FF\", \"#21D4FD\"]\n        })]\n      })]\n    }));\n  });\n  res.json({\n    code: 200\n  });\n});\nexport default handler;","map":{"version":3,"sources":["C:/Users/imyua/dev/calendar/pages/api/test.js"],"names":["nextConnect","middleware","User","Calendar","Event","handler","use","get","req","res","doc","db","collection","err","console","log","insertOne","username","calendars","title","color","events","startTime","Date","endTime","json","code"],"mappings":"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","sourcesContent":["import nextConnect from \"next-connect\";\r\nimport middleware from \"./database\";\r\nimport { User, Calendar, Event } from \"../../classes\";\r\n\r\nconst handler = nextConnect();\r\n\r\nhandler.use(middleware);\r\n\r\nhandler.get(async (req, res) => {\r\n    let doc = await req.db.collection(\"userdata\", function(err, collection) {\r\n        if (err) console.log(err);\r\n        collection.insertOne(\r\n            new User({\r\n                username: \"ken20001207\",\r\n                calendars: [\r\n                    new Calendar({\r\n                        title: \"預設行事曆1\",\r\n                        color: [\"#fd3721\", \"#b721ff\"],\r\n                        events: [\r\n                            new Event({\r\n                                title: \"預設事項1\",\r\n                                startTime: new Date(\"2020/2/23 10:00\"),\r\n                                endTime: new Date(\"2020/2/23 11:00\"),\r\n                                color: [\"#fd3721\", \"#b721ff\"]\r\n                            }),\r\n                            new Event({\r\n                                title: \"預設事項2\",\r\n                                startTime: new Date(\"2020/2/24 13:00\"),\r\n                                endTime: new Date(\"2020/2/24 14:00\"),\r\n                                color: [\"#fd3721\", \"#b721ff\"]\r\n                            }),\r\n                            new Event({\r\n                                title: \"預設事項3\",\r\n                                startTime: new Date(\"2020/2/23 16:00\"),\r\n                                endTime: new Date(\"2020/2/23 17:00\"),\r\n                                color: [\"#fd3721\", \"#b721ff\"]\r\n                            })\r\n                        ]\r\n                    }),\r\n                    new Calendar({\r\n                        title: \"預設行事曆2\",\r\n                        color: [\"#B721FF\", \"#21D4FD\"],\r\n                        events: [\r\n                            new Event({\r\n                                title: \"預設事項4\",\r\n                                startTime: new Date(\"2020/2/24 10:00\"),\r\n                                endTime: new Date(\"2020/2/24 11:00\"),\r\n                                color: [\"#B721FF\", \"#21D4FD\"]\r\n                            }),\r\n                            new Event({\r\n                                title: \"預設事項5\",\r\n                                startTime: new Date(\"2020/2/23 12:00\"),\r\n                                endTime: new Date(\"2020/2/23 13:30\"),\r\n                                color: [\"#B721FF\", \"#21D4FD\"]\r\n                            }),\r\n                            new Event({\r\n                                title: \"預設事項6\",\r\n                                startTime: new Date(\"2020/2/24 15:00\"),\r\n                                endTime: new Date(\"2020/2/24 15:30\"),\r\n                                color: [\"#B721FF\", \"#21D4FD\"]\r\n                            })\r\n                        ]\r\n                    })\r\n                ]\r\n            })\r\n        );\r\n    });\r\n    res.json({ code: 200 });\r\n});\r\n\r\nexport default handler;\r\n"]},"metadata":{},"sourceType":"module"}