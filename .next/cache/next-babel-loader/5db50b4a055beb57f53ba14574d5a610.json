{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\imyua\\\\dev\\\\calendar\\\\comps\\\\eventCard.js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Paper from \"@material-ui/core/Paper\";\n\nfunction emptyCard(startTime, endTime) {\n  endTime = new Date(endTime);\n  startTime = new Date(startTime);\n  const duration = (endTime - startTime) / 60000;\n  var cardStyle = {\n    height: duration,\n    paddingTop: 6,\n    backgroundColor: \"transparent\",\n    borderBottomStyle: endTime.getMinutes() == 0 ? \"solid\" : \"none\",\n    borderBottomColor: \"#444444\",\n    borderBottomWidth: 1,\n    borderTopStyle: startTime.getMinutes() == 0 ? \"solid\" : \"none\",\n    borderTopColor: \"#444444\",\n    borderTopWidth: 1\n  };\n  return __jsx(\"div\", {\n    style: cardStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, startTime.getHours(), \":\", (startTime.getMinutes() < 10 ? \"0\" : \"\") + startTime.getMinutes(), \" -\", \" \", endTime.getHours(), \":\", (endTime.getMinutes() < 10 ? \"0\" : \"\") + endTime.getMinutes());\n}\n\nfunction EmptySections(start, end) {\n  var arr = new Array(end.getHours() - start.getHours() + 1);\n\n  if (start.getHours() == end.getHours()) {\n    arr[0] = emptyCard(start, end);\n  } else if (start.getHours() + 1 == end.getHours()) {\n    arr[0] = emptyCard(start, new Date(end).setMinutes(0));\n    arr[1] = emptyCard(new Date(end).setMinutes(0), end);\n  } else {\n    arr[0] = emptyCard(start, new Date(start).setHours(start.getHours() + 1, 0));\n\n    for (var i = start.getHours() + 1, j = 1; i < end.getHours(); i++, j++) {\n      arr[j] = emptyCard(new Date(start).setHours(i, 0), new Date(start).setHours(i + 1, 0));\n    }\n\n    arr[end.getHours() - start.getHours()] = emptyCard(new Date(end).setMinutes(0), end);\n  }\n\n  return arr;\n}\n\nfunction EventCard(props) {\n  const event = props.event;\n  const duration = (event.endTime - event.startTime) / 60000;\n  const startTime = new Date(event.startTime);\n  const endTime = new Date(event.endTime);\n  /** defalut styles */\n\n  var cardStyle = {\n    height: duration,\n    backgroundImage: \"linear-gradient(160deg, #fc8e8e 0%, #fcd9c3 100%)\",\n    fontSize: 8,\n    paddingLeft: 16,\n    paddingTop: 6,\n    paddingBottom: 6\n  };\n  /** background color according to calendar */\n\n  if (event.cal == \"重要事項\") cardStyle.backgroundImage = \"linear-gradient(315deg, #fd3721 0%, #b721ff 100%)\";else if (event.cal == \"開發設計\") cardStyle.backgroundImage = \"linear-gradient(315deg, #21D4FD 0%, #B721FF 100%)\";else if (event.cal == \"待辦事項\") cardStyle.backgroundImage = \"linear-gradient(123deg, #fdae21 0%, #fff521 100%)\";\n  /** compose event info of card */\n\n  var lineAmount = parseInt(duration / 20) > 1 ? parseInt(duration / 20) - 1 : 1;\n  var eventInfo = [];\n  eventInfo.push(__jsx(\"p\", {\n    style: {\n      color: \"white\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, event.title, \" \", __jsx(\"strong\", {\n    style: {\n      marginLeft: 16,\n      color: \"rgba(255,255,255,0.4)\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, startTime.getHours(), \":\", (startTime.getMinutes() < 10 ? \"0\" : \"\") + startTime.getMinutes(), \" -\", \" \", endTime.getHours(), \":\", (endTime.getMinutes() < 10 ? \"0\" : \"\") + endTime.getMinutes())));\n  eventInfo.push(__jsx(\"p\", {\n    style: {\n      color: \"rgba(255,255,255,0.8)\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, duration, \" \\u5206\\u9418\"));\n  eventInfo.push(__jsx(\"p\", {\n    style: {\n      color: \"rgba(255,255,255,0.8)\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, event.cal)); // render\n\n  if (event.cal !== null) return __jsx(Paper, {\n    style: cardStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, eventInfo.slice(0, lineAmount).map(info => {\n    return info;\n  }));else {\n    return EmptySections(startTime, endTime).map(emptyCard => {\n      return emptyCard;\n    });\n  }\n}\n\nexport default EventCard;","map":{"version":3,"sources":["C:/Users/imyua/dev/calendar/comps/eventCard.js"],"names":["React","Paper","emptyCard","startTime","endTime","Date","duration","cardStyle","height","paddingTop","backgroundColor","borderBottomStyle","getMinutes","borderBottomColor","borderBottomWidth","borderTopStyle","borderTopColor","borderTopWidth","getHours","EmptySections","start","end","arr","Array","setMinutes","setHours","i","j","EventCard","props","event","backgroundImage","fontSize","paddingLeft","paddingBottom","cal","lineAmount","parseInt","eventInfo","push","color","title","marginLeft","slice","map","info"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nfunction emptyCard(startTime, endTime) {\r\n    endTime = new Date(endTime);\r\n    startTime = new Date(startTime);\r\n    const duration = (endTime - startTime) / 60000;\r\n    var cardStyle = {\r\n        height: duration,\r\n        paddingTop: 6,\r\n        backgroundColor: \"transparent\",\r\n        borderBottomStyle: endTime.getMinutes() == 0 ? \"solid\" : \"none\",\r\n        borderBottomColor: \"#444444\",\r\n        borderBottomWidth: 1,\r\n        borderTopStyle: startTime.getMinutes() == 0 ? \"solid\" : \"none\",\r\n        borderTopColor: \"#444444\",\r\n        borderTopWidth: 1\r\n    };\r\n    return (\r\n        <div style={cardStyle}>\r\n            {startTime.getHours()}:{(startTime.getMinutes() < 10 ? \"0\" : \"\") + startTime.getMinutes()} -{\" \"}\r\n            {endTime.getHours()}:{(endTime.getMinutes() < 10 ? \"0\" : \"\") + endTime.getMinutes()}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction EmptySections(start, end) {\r\n    var arr = new Array(end.getHours() - start.getHours() + 1);\r\n    if (start.getHours() == end.getHours()) {\r\n        arr[0] = emptyCard(start, end);\r\n    } else if (start.getHours() + 1 == end.getHours()) {\r\n        arr[0] = emptyCard(start, new Date(end).setMinutes(0));\r\n        arr[1] = emptyCard(new Date(end).setMinutes(0), end);\r\n    } else {\r\n        arr[0] = emptyCard(start, new Date(start).setHours(start.getHours() + 1, 0));\r\n        for (var i = start.getHours() + 1, j = 1; i < end.getHours(); i++, j++) {\r\n            arr[j] = emptyCard(new Date(start).setHours(i, 0), new Date(start).setHours(i + 1, 0));\r\n        }\r\n        arr[end.getHours() - start.getHours()] = emptyCard(new Date(end).setMinutes(0), end);\r\n    }\r\n    return arr;\r\n}\r\n\r\nfunction EventCard(props) {\r\n    const event = props.event;\r\n    const duration = (event.endTime - event.startTime) / 60000;\r\n    const startTime = new Date(event.startTime);\r\n    const endTime = new Date(event.endTime);\r\n\r\n    /** defalut styles */\r\n    var cardStyle = {\r\n        height: duration,\r\n        backgroundImage: \"linear-gradient(160deg, #fc8e8e 0%, #fcd9c3 100%)\",\r\n        fontSize: 8,\r\n        paddingLeft: 16,\r\n        paddingTop: 6,\r\n        paddingBottom: 6\r\n    };\r\n\r\n    /** background color according to calendar */\r\n    if (event.cal == \"重要事項\") cardStyle.backgroundImage = \"linear-gradient(315deg, #fd3721 0%, #b721ff 100%)\";\r\n    else if (event.cal == \"開發設計\") cardStyle.backgroundImage = \"linear-gradient(315deg, #21D4FD 0%, #B721FF 100%)\";\r\n    else if (event.cal == \"待辦事項\") cardStyle.backgroundImage = \"linear-gradient(123deg, #fdae21 0%, #fff521 100%)\";\r\n\r\n    /** compose event info of card */\r\n    var lineAmount = parseInt(duration / 20) > 1 ? parseInt(duration / 20) - 1 : 1;\r\n    var eventInfo = [];\r\n    eventInfo.push(\r\n        <p style={{ color: \"white\" }}>\r\n            {event.title}{\" \"}\r\n            <strong style={{ marginLeft: 16, color: \"rgba(255,255,255,0.4)\" }}>\r\n                {startTime.getHours()}:{(startTime.getMinutes() < 10 ? \"0\" : \"\") + startTime.getMinutes()} -{\" \"}\r\n                {endTime.getHours()}:{(endTime.getMinutes() < 10 ? \"0\" : \"\") + endTime.getMinutes()}\r\n            </strong>\r\n        </p>\r\n    );\r\n    eventInfo.push(<p style={{ color: \"rgba(255,255,255,0.8)\" }}>{duration} 分鐘</p>);\r\n    eventInfo.push(<p style={{ color: \"rgba(255,255,255,0.8)\" }}>{event.cal}</p>);\r\n\r\n    // render\r\n    if (event.cal !== null)\r\n        return (\r\n            <Paper style={cardStyle}>\r\n                {eventInfo.slice(0, lineAmount).map(info => {\r\n                    return info;\r\n                })}\r\n            </Paper>\r\n        );\r\n    else {\r\n        return EmptySections(startTime, endTime).map(emptyCard => {\r\n            return emptyCard;\r\n        });\r\n    }\r\n}\r\n\r\nexport default EventCard;\r\n"]},"metadata":{},"sourceType":"module"}