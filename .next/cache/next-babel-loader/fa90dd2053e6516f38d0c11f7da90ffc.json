{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\imyua\\\\dev\\\\calendar\\\\comps\\\\eventCard.js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Paper from \"@material-ui/core/Paper\";\n\nclass EventCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      elevation: 0,\n      duration: (props.event.endTime - props.event.startTime) / 60000,\n      startTime: props.event.startTime,\n      endTime: props.event.endTime,\n      style: {\n        height: props.height != undefined ? props.height : this.duration,\n        backgroundImage: \"linear-gradient(160deg, #fc8e8e 0%, #fcd9c3 100%)\",\n        fontSize: 8,\n        paddingLeft: 16,\n        marginTop: props.height != undefined ? 15 : 0,\n        paddingTop: 6,\n        paddingBottom: 6\n      }\n    };\n    this.handleMouseOver = this.handleMouseOver.bind(this);\n    this.handleMouseLeave = this.handleMouseLeave.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  static getDerivedStateFromProps(nextProps) {\n    return {\n      duration: (nextProps.event.endTime - nextProps.event.startTime) / 60000,\n      startTime: nextProps.event.startTime,\n      endTime: nextProps.event.endTime\n    };\n  }\n\n  handleMouseOver() {\n    this.setState({\n      elevation: 20\n    });\n  }\n\n  handleMouseLeave() {\n    this.setState({\n      elevation: 0\n    });\n  }\n\n  handleClick() {\n    alert(\"new Event(\" + this.props.event.title + \",\" + this.props.event.cal + \", new Date(\" + this.props.event.startTime + \"), new Date(\" + this.props.event.endTime + \");\");\n  }\n\n  render() {\n    var startTime = this.state.startTime;\n    var endTime = this.state.endTime;\n    var duration = this.state.duration;\n    var event = this.props.event;\n\n    if (event.isEmpty) {\n      return EmptySections(startTime, endTime).map(emptyCard => {\n        return emptyCard;\n      });\n    } else {\n      console.log(event);\n      /** background color */\n\n      this.state.style.backgroundImage = \"linear-gradient(315deg, \" + event.color[0] + \" 0%, \" + event.color[1] + \" 100%)\";\n      /** compose event info of card */\n\n      var lineAmount = this.props.height != undefined ? parseInt(this.props.height / 20) > 1 ? parseInt(this.props.height / 20) - 1 : 1 : parseInt(duration / 20) > 1 ? parseInt(duration / 20) - 1 : 1;\n      var eventInfo = [];\n      eventInfo.push(event.isAllDayEvent() ? __jsx(\"p\", {\n        style: {\n          color: \"white\"\n        },\n        key: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, event.title, \" \", __jsx(\"strong\", {\n        style: {\n          marginLeft: 16,\n          color: \"rgba(255,255,255,0.4)\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"\\u5168\\u5929\\u4E8B\\u4EF6\")) : __jsx(\"p\", {\n        style: {\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, event.title, \" \", __jsx(\"strong\", {\n        style: {\n          marginLeft: 16,\n          color: \"rgba(255,255,255,0.4)\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, startTime.getHours(), \":\", (startTime.getMinutes() < 10 ? \"0\" : \"\") + startTime.getMinutes(), \" -\", \" \", endTime.getHours(), \":\", (endTime.getMinutes() < 10 ? \"0\" : \"\") + endTime.getMinutes())));\n      if (!event.isAllDayEvent()) eventInfo.push(__jsx(\"p\", {\n        style: {\n          color: \"rgba(255,255,255,0.8)\"\n        },\n        key: \"duration\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, duration, \" \\u5206\\u9418\"));\n      eventInfo.push(__jsx(\"p\", {\n        style: {\n          color: \"rgba(255,255,255,0.8)\"\n        },\n        key: \"cal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, event.cal));\n      return __jsx(Paper, {\n        style: this.state.style,\n        elevation: this.state.elevation,\n        onMouseEnter: this.handleMouseOver,\n        onMouseLeave: this.handleMouseLeave,\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, eventInfo.slice(0, lineAmount).map(info => {\n        return info;\n      }));\n    }\n  }\n\n}\n\nfunction emptyCard(startTime, endTime) {\n  endTime = endTime;\n  startTime = startTime;\n  const duration = (endTime - startTime) / 60000;\n  var cardStyle = {\n    height: duration,\n    backgroundColor: \"transparent\",\n    borderBottomStyle: endTime.getMinutes() == 0 ? \"solid\" : \"none\",\n    borderBottomColor: \"#444444\",\n    borderBottomWidth: 1,\n    borderTopStyle: startTime.getMinutes() == 0 ? \"solid\" : \"none\",\n    borderTopColor: \"#444444\",\n    borderTopWidth: 1\n  };\n  return __jsx(\"div\", {\n    style: cardStyle,\n    key: startTime,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, startTime.getHours() + \":\" + startTime.getMinutes() + \" - \" + endTime.getHours() + \":\" + endTime.getMinutes());\n}\n\nfunction EmptySections(start, end) {\n  if (end.getHours() < start.getHours()) {\n    end.setHours(23, 59, 59);\n  }\n\n  var arr = new Array(end.getHours() - start.getHours() + 1);\n\n  if (start.getHours() == end.getHours()) {\n    arr[0] = emptyCard(start, end);\n  } else if (start.getHours() + 1 == end.getHours()) {\n    var a = new Date(end);\n    a.setMinutes(0);\n    arr[0] = emptyCard(start, a);\n    arr[1] = emptyCard(a, end);\n  } else {\n    var a = new Date(start);\n    a.setHours(start.getHours() + 1, 0);\n    arr[0] = emptyCard(start, a);\n\n    for (var i = start.getHours() + 1, j = 1; i < end.getHours(); i++, j++) {\n      var a = new Date(start);\n      a.setHours(i, 0);\n      var b = new Date(start);\n      b.setHours(i + 1, 0);\n      arr[j] = emptyCard(a, b);\n    }\n\n    var a = new Date(end);\n    a.setMinutes(0);\n    arr[end.getHours() - start.getHours()] = emptyCard(a, end);\n  }\n\n  return arr;\n}\n\nexport default EventCard;","map":{"version":3,"sources":["C:/Users/imyua/dev/calendar/comps/eventCard.js"],"names":["React","Paper","EventCard","Component","constructor","props","state","elevation","duration","event","endTime","startTime","style","height","undefined","backgroundImage","fontSize","paddingLeft","marginTop","paddingTop","paddingBottom","handleMouseOver","bind","handleMouseLeave","handleClick","getDerivedStateFromProps","nextProps","setState","alert","title","cal","render","isEmpty","EmptySections","map","emptyCard","console","log","color","lineAmount","parseInt","eventInfo","push","isAllDayEvent","marginLeft","getHours","getMinutes","slice","info","cardStyle","backgroundColor","borderBottomStyle","borderBottomColor","borderBottomWidth","borderTopStyle","borderTopColor","borderTopWidth","start","end","setHours","arr","Array","a","Date","setMinutes","i","j","b"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nclass EventCard extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            elevation: 0,\r\n            duration: (props.event.endTime - props.event.startTime) / 60000,\r\n            startTime: props.event.startTime,\r\n            endTime: props.event.endTime,\r\n            style: {\r\n                height: props.height != undefined ? props.height : this.duration,\r\n                backgroundImage: \"linear-gradient(160deg, #fc8e8e 0%, #fcd9c3 100%)\",\r\n                fontSize: 8,\r\n                paddingLeft: 16,\r\n                marginTop: props.height != undefined ? 15 : 0,\r\n                paddingTop: 6,\r\n                paddingBottom: 6\r\n            }\r\n        };\r\n        this.handleMouseOver = this.handleMouseOver.bind(this);\r\n        this.handleMouseLeave = this.handleMouseLeave.bind(this);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps) {\r\n        return {\r\n            duration: (nextProps.event.endTime - nextProps.event.startTime) / 60000,\r\n            startTime: nextProps.event.startTime,\r\n            endTime: nextProps.event.endTime\r\n        };\r\n    }\r\n\r\n    handleMouseOver() {\r\n        this.setState({\r\n            elevation: 20\r\n        });\r\n    }\r\n\r\n    handleMouseLeave() {\r\n        this.setState({\r\n            elevation: 0\r\n        });\r\n    }\r\n\r\n    handleClick() {\r\n        alert(\r\n            \"new Event(\" +\r\n                this.props.event.title +\r\n                \",\" +\r\n                this.props.event.cal +\r\n                \", new Date(\" +\r\n                this.props.event.startTime +\r\n                \"), new Date(\" +\r\n                this.props.event.endTime +\r\n                \");\"\r\n        );\r\n    }\r\n\r\n    render() {\r\n        var startTime = this.state.startTime;\r\n        var endTime = this.state.endTime;\r\n        var duration = this.state.duration;\r\n        var event = this.props.event;\r\n\r\n        if (event.isEmpty) {\r\n            return EmptySections(startTime, endTime).map(emptyCard => {\r\n                return emptyCard;\r\n            });\r\n        } else {\r\n            console.log(event);\r\n            /** background color */\r\n            this.state.style.backgroundImage =\r\n                \"linear-gradient(315deg, \" + event.color[0] + \" 0%, \" + event.color[1] + \" 100%)\";\r\n\r\n            /** compose event info of card */\r\n            var lineAmount =\r\n                this.props.height != undefined\r\n                    ? parseInt(this.props.height / 20) > 1\r\n                        ? parseInt(this.props.height / 20) - 1\r\n                        : 1\r\n                    : parseInt(duration / 20) > 1\r\n                    ? parseInt(duration / 20) - 1\r\n                    : 1;\r\n            var eventInfo = [];\r\n            eventInfo.push(\r\n                event.isAllDayEvent() ? (\r\n                    <p style={{ color: \"white\" }} key=\"title\">\r\n                        {event.title}{\" \"}\r\n                        <strong style={{ marginLeft: 16, color: \"rgba(255,255,255,0.4)\" }}>全天事件</strong>\r\n                    </p>\r\n                ) : (\r\n                    <p style={{ color: \"white\" }}>\r\n                        {event.title}{\" \"}\r\n                        <strong style={{ marginLeft: 16, color: \"rgba(255,255,255,0.4)\" }}>\r\n                            {startTime.getHours()}:{(startTime.getMinutes() < 10 ? \"0\" : \"\") + startTime.getMinutes()} -{\" \"}\r\n                            {endTime.getHours()}:{(endTime.getMinutes() < 10 ? \"0\" : \"\") + endTime.getMinutes()}\r\n                        </strong>\r\n                    </p>\r\n                )\r\n            );\r\n            if (!event.isAllDayEvent())\r\n                eventInfo.push(\r\n                    <p style={{ color: \"rgba(255,255,255,0.8)\" }} key=\"duration\">\r\n                        {duration} 分鐘\r\n                    </p>\r\n                );\r\n            eventInfo.push(\r\n                <p style={{ color: \"rgba(255,255,255,0.8)\" }} key=\"cal\">\r\n                    {event.cal}\r\n                </p>\r\n            );\r\n            return (\r\n                <Paper\r\n                    style={this.state.style}\r\n                    elevation={this.state.elevation}\r\n                    onMouseEnter={this.handleMouseOver}\r\n                    onMouseLeave={this.handleMouseLeave}\r\n                    onClick={this.handleClick}\r\n                >\r\n                    {eventInfo.slice(0, lineAmount).map(info => {\r\n                        return info;\r\n                    })}\r\n                </Paper>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nfunction emptyCard(startTime, endTime) {\r\n    endTime = endTime;\r\n    startTime = startTime;\r\n    const duration = (endTime - startTime) / 60000;\r\n    var cardStyle = {\r\n        height: duration,\r\n        backgroundColor: \"transparent\",\r\n        borderBottomStyle: endTime.getMinutes() == 0 ? \"solid\" : \"none\",\r\n        borderBottomColor: \"#444444\",\r\n        borderBottomWidth: 1,\r\n        borderTopStyle: startTime.getMinutes() == 0 ? \"solid\" : \"none\",\r\n        borderTopColor: \"#444444\",\r\n        borderTopWidth: 1\r\n    };\r\n    return (\r\n        <div style={cardStyle} key={startTime}>\r\n            {startTime.getHours() +\r\n                \":\" +\r\n                startTime.getMinutes() +\r\n                \" - \" +\r\n                endTime.getHours() +\r\n                \":\" +\r\n                endTime.getMinutes()}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction EmptySections(start, end) {\r\n    if (end.getHours() < start.getHours()) {\r\n        end.setHours(23, 59, 59);\r\n    }\r\n    var arr = new Array(end.getHours() - start.getHours() + 1);\r\n    if (start.getHours() == end.getHours()) {\r\n        arr[0] = emptyCard(start, end);\r\n    } else if (start.getHours() + 1 == end.getHours()) {\r\n        var a = new Date(end);\r\n        a.setMinutes(0);\r\n        arr[0] = emptyCard(start, a);\r\n        arr[1] = emptyCard(a, end);\r\n    } else {\r\n        var a = new Date(start);\r\n        a.setHours(start.getHours() + 1, 0);\r\n        arr[0] = emptyCard(start, a);\r\n        for (var i = start.getHours() + 1, j = 1; i < end.getHours(); i++, j++) {\r\n            var a = new Date(start);\r\n            a.setHours(i, 0);\r\n            var b = new Date(start);\r\n            b.setHours(i + 1, 0);\r\n            arr[j] = emptyCard(a, b);\r\n        }\r\n        var a = new Date(end);\r\n        a.setMinutes(0);\r\n        arr[end.getHours() - start.getHours()] = emptyCard(a, end);\r\n    }\r\n    return arr;\r\n}\r\n\r\nexport default EventCard;\r\n"]},"metadata":{},"sourceType":"module"}