{"ast":null,"code":"import _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Container from \"@material-ui/core/container\";\nimport DayView from \"../comps/DayView\";\nimport fetch from \"isomorphic-unfetch\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { User, Calendar, Event } from \"../classes\";\nimport DayPicker from \"react-day-picker\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Button from \"@material-ui/core/Button\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport Paper from \"@material-ui/core/Paper\";\n\nfunction startOfDay(date) {\n  if (!date instanceof Date) {\n    console.error(\"傳入的時間不是合法的 Date 物件。\");\n    return null;\n  }\n\n  date = new Date(date);\n  var time = new Date();\n  time.setTime(date.getTime());\n  time.setHours(0, 0, 0);\n  return time;\n}\n\nfunction endOfDay(date) {\n  if (!date instanceof Date) {\n    console.error(\"傳入的時間不是合法的 Date 物件。\");\n    return null;\n  }\n\n  date = new Date(date);\n  var time = new Date();\n  time.setTime(date.getTime());\n  time.setHours(23, 59, 59);\n  return time;\n}\n\nfunction fillEvents(events, date) {\n  var filled = new Array();\n  var time = startOfDay(date);\n  events.map(function (event) {\n    var startTime = new Date(event.startTime);\n    var endTime = new Date(event.endTime);\n\n    if (startTime.getHours() > endTime.getHours()) {\n      endTime.setHours(23, 59, 59);\n    }\n\n    filled.push(new Event({\n      startTime: time,\n      endTime: startTime\n    }, true));\n    filled.push(event);\n    time.setTime(endTime.getTime());\n  });\n  filled.push(new Event({\n    startTime: time,\n    endTime: endOfDay(date)\n  }, true));\n  return filled;\n}\n\nfunction eventsToDispay(calendars, date) {\n  var eventsToDispay = [];\n  calendars.map(function (calendar) {\n    calendar = new Calendar(calendar);\n    calendar.events.map(function (event) {\n      if (event.startTime.getFullYear() == date.getFullYear() && event.startTime.getMonth() == date.getMonth() && event.startTime.getDate() == date.getDate() && !event.isAllDayEvent()) {\n        eventsToDispay.push(event);\n      }\n    });\n  });\n  eventsToDispay.sort(function (a, b) {\n    return a.startTime - b.startTime;\n  });\n  return eventsToDispay;\n}\n\nvar index =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(index, _React$Component);\n\n  function index(props) {\n    var _this;\n\n    _classCallCheck(this, index);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(index).call(this, props));\n    _this.state = {\n      selectedDay: new Date(),\n      eventsToDispay: [],\n      userdata: {},\n      filled: [],\n      inputing: {\n        title: \"\",\n        date: \"\",\n        time: \"\"\n      },\n      editingEvent: false,\n      creatingEvent: false,\n      selectedEvent: new Event({\n        title: \"選中的事件\",\n        startTime: new Date(),\n        endTime: new Date(),\n        color: [\"#fd3721\", \"#b721ff\"]\n      })\n    };\n    _this.handleDayClick = _this.handleDayClick.bind(_assertThisInitialized(_this));\n    _this.openEventEditDialog = _this.openEventEditDialog.bind(_assertThisInitialized(_this));\n    _this.closeEventEditDialog = _this.closeEventEditDialog.bind(_assertThisInitialized(_this));\n    _this.openEventCreateDialog = _this.openEventCreateDialog.bind(_assertThisInitialized(_this));\n    _this.closeEventCreateDialog = _this.closeEventCreateDialog.bind(_assertThisInitialized(_this));\n    _this.updateEvent = _this.updateEvent.bind(_assertThisInitialized(_this));\n    _this.createEvent = _this.createEvent.bind(_assertThisInitialized(_this));\n    _this.handleTitleChange = _this.handleTitleChange.bind(_assertThisInitialized(_this));\n    _this.handleDateChange = _this.handleDateChange.bind(_assertThisInitialized(_this));\n    _this.handleTimeChange = _this.handleTimeChange.bind(_assertThisInitialized(_this));\n    _this.handleCalendarChange = _this.handleCalendarChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(index, [{\n    key: \"handleDayClick\",\n    value: function handleDayClick(day, _ref) {\n      var selected;\n      return _regeneratorRuntime.async(function handleDayClick$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              selected = _ref.selected;\n              this.setState({\n                selectedDay: selected ? new Date() : day\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        var filled = fillEvents(_this2.props.eventsToDispay, new Date());\n\n        _this2.setState({\n          filled: filled,\n          userdata: _this2.props.userdata\n        });\n      }, 200);\n    }\n  }, {\n    key: \"openEventEditDialog\",\n    value: function openEventEditDialog(event) {\n      this.setState({\n        selectedEvent: event,\n        editingEvent: true,\n        inputing: {\n          title: event.title,\n          date: event.startTime.getFullYear() + \"/\" + event.startTime.getMonth() + \"/\" + event.startTime.getDate(),\n          time: event.startTime.getHours() + \":\" + event.startTime.getMinutes() + \"~\" + event.endTime.getHours() + \":\" + event.endTime.getMinutes()\n        }\n      });\n    }\n  }, {\n    key: \"closeEventEditDialog\",\n    value: function closeEventEditDialog() {\n      this.setState({\n        editingEvent: false\n      });\n    }\n  }, {\n    key: \"openEventCreateDialog\",\n    value: function openEventCreateDialog() {\n      this.setState({\n        creatingEvent: true,\n        inputing: {\n          date: this.state.selectedDay.getFullYear() + \"/\" + this.state.selectedDay.getMonth() + \"/\" + this.state.selectedDay.getDate()\n        }\n      });\n    }\n  }, {\n    key: \"closeEventCreateDialog\",\n    value: function closeEventCreateDialog() {\n      this.setState({\n        creatingEvent: false\n      });\n    }\n  }, {\n    key: \"createEvent\",\n    value: function createEvent() {\n      var _this3 = this;\n\n      var newStartTime, newEndTime, newdata, res, json, userdata, etd, filled;\n      return _regeneratorRuntime.async(function createEvent$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              newStartTime = new Date();\n              newEndTime = new Date();\n              newStartTime.setFullYear(this.state.inputing.date.split(\"/\")[0], this.state.inputing.date.split(\"/\")[1], this.state.inputing.date.split(\"/\")[2]);\n              newEndTime.setFullYear(this.state.inputing.date.split(\"/\")[0], this.state.inputing.date.split(\"/\")[1], this.state.inputing.date.split(\"/\")[2]);\n              newStartTime.setHours(this.state.inputing.time.split(\"~\")[0].split(\":\")[0], this.state.inputing.time.split(\"~\")[0].split(\":\")[1]);\n              newEndTime.setHours(this.state.inputing.time.split(\"~\")[1].split(\":\")[0], this.state.inputing.time.split(\"~\")[1].split(\":\")[1]);\n              newdata = new User(this.state.userdata);\n              newdata.calendars.map(function (calendar) {\n                if (calendar.title == _this3.state.inputing.calendar) {\n                  calendar.events.push(new Event({\n                    title: _this3.state.inputing.title,\n                    startTime: newStartTime,\n                    endTime: newEndTime,\n                    color: calendar.color\n                  }));\n                }\n              });\n              _context2.next = 10;\n              return _regeneratorRuntime.awrap(fetch(\"http://localhost:3000/api/updateuserdata\", {\n                method: \"post\",\n                body: _JSON$stringify({\n                  calendars: newdata.calendars\n                })\n              }));\n\n            case 10:\n              this.setState({\n                creatingEvent: false\n              });\n              _context2.next = 13;\n              return _regeneratorRuntime.awrap(fetch(\"http://localhost:3000/api/getuserdata\"));\n\n            case 13:\n              res = _context2.sent;\n              _context2.next = 16;\n              return _regeneratorRuntime.awrap(res.json());\n\n            case 16:\n              json = _context2.sent;\n              userdata = new User(json);\n              etd = eventsToDispay(userdata.calendars, new Date());\n              filled = fillEvents(eventsToDispay(userdata.calendars, new Date()), new Date());\n              this.setState({\n                userdata: userdata,\n                filled: filled,\n                eventsToDispay: etd\n              });\n\n            case 21:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this);\n    }\n  }, {\n    key: \"updateEvent\",\n    value: function updateEvent() {\n      var _this4 = this;\n\n      var newStartTime, newEndTime, newdata, res, json, userdata, etd, filled;\n      return _regeneratorRuntime.async(function updateEvent$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              newStartTime = new Date();\n              newEndTime = new Date();\n              newStartTime.setFullYear(this.state.inputing.date.split(\"/\")[0], this.state.inputing.date.split(\"/\")[1], this.state.inputing.date.split(\"/\")[2]);\n              newEndTime.setFullYear(this.state.inputing.date.split(\"/\")[0], this.state.inputing.date.split(\"/\")[1], this.state.inputing.date.split(\"/\")[2]);\n              newStartTime.setHours(this.state.inputing.time.split(\"~\")[0].split(\":\")[0], this.state.inputing.time.split(\"~\")[0].split(\":\")[1]);\n              newEndTime.setHours(this.state.inputing.time.split(\"~\")[1].split(\":\")[0], this.state.inputing.time.split(\"~\")[1].split(\":\")[1]);\n              newdata = new User(this.state.userdata);\n              newdata.calendars.map(function (calendar) {\n                calendar.events.map(function (event) {\n                  if (event.id == _this4.state.selectedEvent.id) {\n                    event.startTime = newStartTime;\n                    event.endTime = newEndTime;\n                    event.title = _this4.state.inputing.title;\n                  }\n                });\n              });\n              _context3.next = 10;\n              return _regeneratorRuntime.awrap(fetch(\"http://localhost:3000/api/updateuserdata\", {\n                method: \"post\",\n                body: _JSON$stringify({\n                  calendars: newdata.calendars\n                })\n              }));\n\n            case 10:\n              this.setState({\n                editingEvent: false\n              });\n              _context3.next = 13;\n              return _regeneratorRuntime.awrap(fetch(\"http://localhost:3000/api/getuserdata\"));\n\n            case 13:\n              res = _context3.sent;\n              _context3.next = 16;\n              return _regeneratorRuntime.awrap(res.json());\n\n            case 16:\n              json = _context3.sent;\n              userdata = new User(json);\n              etd = eventsToDispay(userdata.calendars, new Date());\n              filled = fillEvents(eventsToDispay(userdata.calendars, new Date()), new Date());\n              this.setState({\n                userdata: userdata,\n                filled: filled,\n                eventsToDispay: etd\n              });\n\n            case 21:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, this);\n    }\n  }, {\n    key: \"handleTitleChange\",\n    value: function handleTitleChange(e) {\n      this.state.inputing.title = e.target.value;\n    }\n  }, {\n    key: \"handleDateChange\",\n    value: function handleDateChange(e) {\n      this.state.inputing.date = e.target.value;\n    }\n  }, {\n    key: \"handleTimeChange\",\n    value: function handleTimeChange(e) {\n      this.state.inputing.time = e.target.value;\n    }\n  }, {\n    key: \"handleCalendarChange\",\n    value: function handleCalendarChange(e) {\n      this.state.inputing.calendar = e.target.value;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.userdata.calendars != undefined) {\n        var calendarOptions = this.state.userdata.calendars.map(function (calendar) {\n          return __jsx(\"option\", {\n            key: calendar.title,\n            value: calendar.title\n          }, calendar.title);\n        });\n        var filled = fillEvents(eventsToDispay(this.state.userdata.calendars, this.state.selectedDay), this.state.selectedDay);\n        var dayDescription = \"\";\n        var DayA = new Date(this.state.selectedDay);\n        var DayB = new Date();\n        DayA.setHours(12, 0, 0);\n        DayB.setHours(12, 0, 0);\n\n        if (_parseInt((DayA - DayB) / 3600000) < 0) {\n          if (_parseInt((DayA - DayB) / 3600000) == 0) dayDescription = \"今天\";else if (_parseInt((DayA - DayB) / 3600000) == -24) dayDescription = \"昨天\";else if (_parseInt((DayA - DayB) / 3600000) == -48) dayDescription = \"前天\";else dayDescription = _parseInt((DayA - DayB) / 3600000 / -24) + \" 天前\";\n        } else {\n          if (_parseInt((DayA - DayB) / 3600000) == 0) dayDescription = \"今天\";else if (_parseInt((DayA - DayB) / 3600000) == 23) dayDescription = \"明天\";else if (_parseInt((DayA - DayB) / 3600000) == 47) dayDescription = \"後天\";else dayDescription = _parseInt((DayA - DayB) / 3600000 / 24) + 1 + \" 天後\";\n        }\n\n        return __jsx(Container, {\n          maxWidth: \"md\"\n        }, __jsx(Grid, {\n          container: true\n        }, __jsx(Grid, {\n          item: true,\n          xs: 5\n        }, __jsx(\"div\", {\n          style: {\n            marginTop: 80\n          },\n          className: \"jsx-3288069184\"\n        }, __jsx(DayPicker, {\n          selectedDays: this.state.selectedDay,\n          onDayClick: this.handleDayClick\n        })), __jsx(\"div\", {\n          style: {\n            margin: 26\n          },\n          className: \"jsx-3288069184\"\n        }, __jsx(\"h2\", {\n          style: {\n            color: \"white\",\n            marginBottom: 16\n          },\n          className: \"jsx-3288069184\"\n        }, this.state.selectedDay.getFullYear(), \" / \", this.state.selectedDay.getMonth() + 1, \" / \", this.state.selectedDay.getDate()), __jsx(\"p\", {\n          style: {\n            color: \"gray\",\n            marginTop: 0\n          },\n          className: \"jsx-3288069184\"\n        }, dayDescription))), __jsx(Grid, {\n          item: true,\n          xs: 7\n        }, __jsx(\"div\", {\n          style: {\n            overflowY: \"scroll\",\n            maxHeight: \"90vh\",\n            padding: 24\n          },\n          className: \"jsx-3288069184\"\n        }, __jsx(DayView, {\n          events: filled,\n          openEventEditDialog: this.openEventEditDialog,\n          openEventCreateDialog: this.openEventCreateDialog\n        })))), __jsx(Dialog, {\n          open: this.state.editingEvent,\n          \"aria-labelledby\": \"form-dialog-title\",\n          width: \"xs\"\n        }, __jsx(DialogContent, null, __jsx(TextField, {\n          autoFocus: true,\n          defaultValue: this.state.selectedEvent.title,\n          margin: \"dense\",\n          id: \"name\",\n          label: \"\\u4E8B\\u4EF6\\u6A19\\u984C\",\n          fullWidth: true,\n          onChange: this.handleTitleChange\n        }), __jsx(TextField, {\n          defaultValue: this.state.selectedEvent.startTime.getFullYear() + \"/\" + this.state.selectedEvent.startTime.getMonth() + \"/\" + this.state.selectedEvent.startTime.getDate(),\n          margin: \"dense\",\n          id: \"name\",\n          onChange: this.handleDateChange,\n          label: \"\\u65E5\\u671F\",\n          fullWidth: true\n        }), __jsx(TextField, {\n          defaultValue: this.state.selectedEvent.startTime.getHours() + \":\" + this.state.selectedEvent.startTime.getMinutes() + \"~\" + this.state.selectedEvent.endTime.getHours() + \":\" + this.state.selectedEvent.endTime.getMinutes(),\n          margin: \"dense\",\n          id: \"name\",\n          onChange: this.handleTimeChange,\n          label: \"\\u6642\\u9593\",\n          fullWidth: true\n        })), __jsx(DialogActions, null, __jsx(Button, {\n          color: \"primary\",\n          onClick: this.closeCreatingEventEditDialog\n        }, \"\\u53D6\\u6D88\"), __jsx(Button, {\n          color: \"primary\",\n          onClick: this.createEvent\n        }, \"\\u66F4\\u65B0\"))), __jsx(Dialog, {\n          open: this.state.creatingEvent,\n          \"aria-labelledby\": \"form-dialog-title\",\n          width: \"xs\"\n        }, __jsx(DialogContent, null, __jsx(FormControl, null, __jsx(InputLabel, {\n          htmlFor: \"demo-dialog-native\"\n        }, \"\\u884C\\u4E8B\\u66C6\"), __jsx(Select, {\n          \"native\": true,\n          onChange: this.handleCalendarChange\n        }, calendarOptions)), __jsx(TextField, {\n          autoFocus: true,\n          margin: \"dense\",\n          id: \"name\",\n          label: \"\\u4E8B\\u4EF6\\u6A19\\u984C\",\n          fullWidth: true,\n          onChange: this.handleTitleChange\n        }), __jsx(TextField, {\n          defaultValue: new Date().getFullYear() + \"/\" + new Date().getMonth() + \"/\" + new Date().getDate(),\n          margin: \"dense\",\n          id: \"name\",\n          onChange: this.handleDateChange,\n          label: \"\\u65E5\\u671F\",\n          fullWidth: true\n        }), __jsx(TextField, {\n          defaultValue: new Date().getHours() + \":\" + new Date().getMinutes() + \"~\" + (new Date().getHours() + 1) + \":\" + new Date().getMinutes(),\n          margin: \"dense\",\n          id: \"name\",\n          onChange: this.handleTimeChange,\n          label: \"\\u6642\\u9593\",\n          fullWidth: true\n        })), __jsx(DialogActions, null, __jsx(Button, {\n          color: \"primary\",\n          onClick: this.closeEventCreateDialog\n        }, \"\\u53D6\\u6D88\"), __jsx(Button, {\n          color: \"primary\",\n          onClick: this.createEvent\n        }, \"\\u5275\\u7ACB\"))), __jsx(_JSXStyle, {\n          id: \"3288069184\"\n        }, [\"body{background:#333333;}\", \"::-webkit-scrollbar{width:5px;}\", \"::-webkit-scrollbar-track{-webkit-border-radius:10px;border-radius:10px;margin:80px 0 5px 0;}\", \"::-webkit-scrollbar-thumb{-webkit-border-radius:4px;border-radius:4px;background:rgb(80,80,80);}\", \".DayPicker{display:inline-block;font-size:1rem;}\", \".DayPicker-wrapper{position:relative;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding-bottom:1em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}\", \".DayPicker-Months{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}\", \".DayPicker-Month{display:table;margin:0 1em;margin-top:1em;border-spacing:0;border-collapse:collapse;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}\", \".DayPicker-NavButton{position:absolute;top:1em;right:1.5em;left:auto;display:inline-block;margin-top:2px;width:1.25em;height:1.25em;background-position:center;background-size:50%;background-repeat:no-repeat;color:#8b9898;cursor:pointer;}\", \".DayPicker-NavButton:hover{opacity:0.8;}\", \".DayPicker-NavButton--prev{margin-right:1.5em;background-image:url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAVVJREFUWAnN2G0KgjAYwPHpGfRkaZeqvgQaK+hY3SUHrk1YzNLay/OiEFp92I+/Mp2F2Mh2lLISWnflFjzH263RQjzMZ19wgs73ez0o1WmtW+dgA01VxrE3p6l2GLsnBy1VYQOtVSEH/atCCgqpQgKKqYIOiq2CBkqtggLKqQIKgqgCBjpJ2Y5CdJ+zrT9A7HHSTA1dxUdHgzCqJIEwq0SDsKsEg6iqBIEoq/wEcVRZBXFV+QJxV5mBtlDFB5VjYTaGZ2sf4R9PM7U9ZU+lLuaetPP/5Die3ToO1+u+MKtHs06qODB2zBnI/jBd4MPQm1VkY79Tb18gB+C62FdBFsZR6yeIo1YQiLJWMIiqVjQIu1YSCLNWFgijVjYIuhYYCKoWKAiiFgoopxYaKLUWOii2FgkophYp6F3r42W5A9s9OcgNvva8xQaysKXlFytoqdYmQH6tF3toSUo0INq9AAAAAElFTkSuQmCC\\\");}\", \".DayPicker-NavButton--next{background-image:url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAXRJREFUWAnN119ugjAcwPHWzJ1gnmxzB/BBE0n24m4xfNkTaOL7wOtsl3AXMMb+Vjaa1BG00N8fSEibPpAP3xAKKs2yjzTPH9RAjhEo9WzPr/Vm8zgE0+gXATAxxuxtqeJ9t5tIwv5AtQAApsfT6TPdbp+kUBcgVwvO51KqVhMkXKsVJFXrOkigVhCIs1Y4iKlWZxB1rX4gwlpRIIpa8SDkWmggrFq4IIRaJKCYWnSgnrXIQV1r8YD+1Vrn+bReagysIFfLABRt31v8oBu1xEBttfRbltmfjgEcWh9snUS2kNdBK6WN1vrOWxObWsz+fjxevsxmB1GQDfINWiev83nhaoiB/CoOU438oPrhXS0WpQ9xc1ZQWxWHqUYe0I0qrKCQKjygDlXIQV2r0IF6ViEBxVTBBSFUQQNhVYkHIVeJAtkNsbQ7c1LtzP6FsObhb2rCKv7NBIGoq4SDmKoEgTirXAcJVGkFSVVpgoSrXICGUMUH/QBZNSUy5XWUhwAAAABJRU5ErkJggg==\\\");}\", \".DayPicker-NavButton--interactionDisabled{display:none;}\", \".DayPicker-Caption{display:table-caption;margin-bottom:0.5em;padding:0 0.5em;text-align:left;color:white;}\", \".DayPicker-Caption>div{font-weight:500;font-size:1.15em;}\", \".DayPicker-Weekdays{display:table-header-group;margin-top:1em;}\", \".DayPicker-WeekdaysRow{display:table-row;}\", \".DayPicker-Weekday{display:table-cell;padding:0.5em;color:#8b9898;text-align:center;font-size:0.875em;}\", \".DayPicker-Weekday abbr[title]{border-bottom:none;-webkit-text-decoration:none;text-decoration:none;}\", \".DayPicker-Body{display:table-row-group;}\", \".DayPicker-Week{display:table-row;}\", \".DayPicker-Day{display:table-cell;padding:0.5em;border-radius:50%;vertical-align:middle;text-align:center;cursor:pointer;color:gray;}\", \".DayPicker-WeekNumber{display:table-cell;padding:0.5em;min-width:1em;border-right:1px solid #eaecec;color:#8b9898;vertical-align:middle;text-align:right;font-size:0.75em;cursor:pointer;}\", \".DayPicker--interactionDisabled .DayPicker-Day{cursor:default;}\", \".DayPicker-Footer{padding-top:0.5em;}\", \".DayPicker-TodayButton{border:none;background-color:transparent;background-image:none;box-shadow:none;color:#4a90e2;font-size:0.875em;cursor:pointer;}\", \".DayPicker-Day--today{color:white;font-weight:700;}\", \".DayPicker-Day--outside{color:#8b9898;cursor:default;}\", \".DayPicker-Day--disabled{color:#dce0e0;cursor:default;}\", \".DayPicker-Day--sunday{background-color:#f7f8f8;}\", \".DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0;}\", \".DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){position:relative;background-color:#4a90e2;color:#f0f8ff;}\", \".DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover{background-color:#51a0fa;}\", \".DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside):hover{background-color:#f0f8ff;}\", \".DayPickerInput{display:inline-block;}\", \".DayPickerInput-OverlayWrapper{position:relative;}\", \".DayPickerInput-Overlay{position:absolute;left:0;z-index:1;background:white;box-shadow:0 2px 5px rgba(0,0,0,0.15);}\"]));\n      } else {\n        return __jsx(\"p\", null, \"loading\");\n      }\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps() {\n      var res, json, userdata, etd, filled;\n      return _regeneratorRuntime.async(function getInitialProps$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _regeneratorRuntime.awrap(fetch(\"http://localhost:3000/api/getuserdata\"));\n\n            case 2:\n              res = _context4.sent;\n              _context4.next = 5;\n              return _regeneratorRuntime.awrap(res.json());\n\n            case 5:\n              json = _context4.sent;\n              userdata = new User(json);\n              etd = eventsToDispay(userdata.calendars, new Date());\n              filled = fillEvents(eventsToDispay(userdata.calendars, new Date()), new Date());\n              return _context4.abrupt(\"return\", {\n                userdata: userdata,\n                filled: filled,\n                eventsToDispay: etd\n              });\n\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      });\n    }\n  }]);\n\n  return index;\n}(React.Component);\n\nexport default index;","map":null,"metadata":{},"sourceType":"module"}