{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nvar _jsxFileName = \"C:\\\\Users\\\\imyua\\\\dev\\\\calendar\\\\pages\\\\icstool.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Container from \"@material-ui/core/container\";\nimport EventCard from \"../comps/eventCard\";\n/** Parse ics file string into event array */\n\nfunction toEventArray(lines) {\n  return new _Promise(function (resolve, reject) {\n    var events = [];\n    var tempEvent = {};\n\n    for (var line = 0; line < lines.length; line++) {\n      if (lines[line].includes(\"BEGIN\") && lines[line].includes(\"VEVENT\")) {\n        reading = true;\n      } else if (lines[line].includes(\"END\") && lines[line].includes(\"VEVENT\")) {\n        events.push(event);\n        reading = false;\n      }\n\n      if (reading) {\n        if (lines[line].includes(\"DTSTART\")) {\n          tempEvent.startTime = calenDate(lines[line].split(\":\")[1]);\n        } else if (lines[line].includes(\"DTEND\")) {\n          tempEvent.endTime = calenDate(lines[line].split(\":\")[1]);\n        } else if (lines[line].split(\":\")[0] == \"SUMMARY\") {\n          tempEvent.title = lines[line].split(\":\")[1];\n        }\n      }\n    }\n  });\n}\n/** Parse string of ics date format into date object */\n\n\nfunction calenDate(icalStr) {\n  var strYear = icalStr.substr(0, 4);\n  var strMonth = _parseInt(icalStr.substr(4, 2), 10) - 1;\n  var strDay = icalStr.substr(6, 2);\n  var strHour = icalStr.substr(9, 2);\n  var strMin = icalStr.substr(11, 2);\n  var strSec = icalStr.substr(13, 2);\n  var oDate = new Date(strYear, strMonth, strDay, strHour, strMin, strSec);\n  return oDate;\n}\n\nvar icstool =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(icstool, _React$Component);\n\n  function icstool(props) {\n    var _this;\n\n    _classCallCheck(this, icstool);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(icstool).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onChangeHandler\", function (e) {\n      var file = e.target.files[0];\n      var reader = new FileReader();\n      var events = [];\n\n      reader.onload = function () {\n        var lines = this.result.split(\"\\n\");\n        var reading = false;\n        var event = {};\n\n        for (var line = 0; line < lines.length; line++) {\n          if (lines[line].includes(\"BEGIN\") && lines[line].includes(\"VEVENT\")) {\n            reading = true;\n          } else if (lines[line].includes(\"END\") && lines[line].includes(\"VEVENT\")) {\n            events.push(event);\n            reading = false;\n          }\n\n          if (reading) {\n            if (lines[line].includes(\"DTSTART\")) {\n              event.startTime = calenDate(lines[line].split(\":\")[1]);\n            } else if (lines[line].includes(\"DTEND\")) {\n              event.endTime = calenDate(lines[line].split(\":\")[1]);\n            } else if (lines[line].split(\":\")[0] == \"SUMMARY\") {\n              event.title = lines[line].split(\":\")[1];\n            }\n          }\n        }\n\n        this.state.events = events;\n      };\n\n      reader.readAsText(file);\n    });\n\n    _this.state = {\n      events: []\n    };\n    return _this;\n  }\n\n  _createClass(icstool, [{\n    key: \"render\",\n    value: function render() {\n      var eventList = this.state.events.map(function (event) {\n        return __jsx(EventCard, {\n          event: event,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        });\n      });\n      return __jsx(Container, {\n        maxWidth: \"lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, __jsx(\"input\", {\n        type: \"file\",\n        name: \"file\",\n        onChange: this.onChangeHandler,\n        className: \"jsx-2817667622\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), __jsx(\"h1\", {\n        style: {\n          color: \"white\"\n        },\n        className: \"jsx-2817667622\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"\\u89E3\\u6790\\u7D50\\u679C\"), eventList, __jsx(_JSXStyle, {\n        id: \"2817667622\",\n        __self: this\n      }, \"body{background:#333333;}::-webkit-scrollbar{width:5px;}::-webkit-scrollbar-track{-webkit-border-radius:10px;border-radius:10px;margin:80px 0 5px 0;}::-webkit-scrollbar-thumb{-webkit-border-radius:4px;border-radius:4px;background:rgb(80,80,80);}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcaW15dWFcXGRldlxcY2FsZW5kYXJcXHBhZ2VzXFxpY3N0b29sLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTJGbUMsQUFHNEMsQUFHVCxBQUdpQixBQUtELFVBUDlCLFNBSEEsT0FXc0IsQ0FMQyxpQkFNUSxFQUxQLG9CQUN4QixHQUtBIiwiZmlsZSI6IkM6XFxVc2Vyc1xcaW15dWFcXGRldlxcY2FsZW5kYXJcXHBhZ2VzXFxpY3N0b29sLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgQ29udGFpbmVyIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9jb250YWluZXJcIjtcclxuaW1wb3J0IEV2ZW50Q2FyZCBmcm9tIFwiLi4vY29tcHMvZXZlbnRDYXJkXCI7XHJcblxyXG4vKiogUGFyc2UgaWNzIGZpbGUgc3RyaW5nIGludG8gZXZlbnQgYXJyYXkgKi9cclxuZnVuY3Rpb24gdG9FdmVudEFycmF5KGxpbmVzKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHZhciBldmVudHMgPSBbXTtcclxuICAgICAgICB2YXIgdGVtcEV2ZW50ID0ge307XHJcbiAgICAgICAgZm9yICh2YXIgbGluZSA9IDA7IGxpbmUgPCBsaW5lcy5sZW5ndGg7IGxpbmUrKykge1xyXG4gICAgICAgICAgICBpZiAobGluZXNbbGluZV0uaW5jbHVkZXMoXCJCRUdJTlwiKSAmJiBsaW5lc1tsaW5lXS5pbmNsdWRlcyhcIlZFVkVOVFwiKSkge1xyXG4gICAgICAgICAgICAgICAgcmVhZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZXNbbGluZV0uaW5jbHVkZXMoXCJFTkRcIikgJiYgbGluZXNbbGluZV0uaW5jbHVkZXMoXCJWRVZFTlRcIikpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50cy5wdXNoKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIHJlYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocmVhZGluZykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxpbmVzW2xpbmVdLmluY2x1ZGVzKFwiRFRTVEFSVFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBFdmVudC5zdGFydFRpbWUgPSBjYWxlbkRhdGUobGluZXNbbGluZV0uc3BsaXQoXCI6XCIpWzFdKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZXNbbGluZV0uaW5jbHVkZXMoXCJEVEVORFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBFdmVudC5lbmRUaW1lID0gY2FsZW5EYXRlKGxpbmVzW2xpbmVdLnNwbGl0KFwiOlwiKVsxXSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmVzW2xpbmVdLnNwbGl0KFwiOlwiKVswXSA9PSBcIlNVTU1BUllcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBFdmVudC50aXRsZSA9IGxpbmVzW2xpbmVdLnNwbGl0KFwiOlwiKVsxXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vKiogUGFyc2Ugc3RyaW5nIG9mIGljcyBkYXRlIGZvcm1hdCBpbnRvIGRhdGUgb2JqZWN0ICovXHJcbmZ1bmN0aW9uIGNhbGVuRGF0ZShpY2FsU3RyKSB7XHJcbiAgICB2YXIgc3RyWWVhciA9IGljYWxTdHIuc3Vic3RyKDAsIDQpO1xyXG4gICAgdmFyIHN0ck1vbnRoID0gcGFyc2VJbnQoaWNhbFN0ci5zdWJzdHIoNCwgMiksIDEwKSAtIDE7XHJcbiAgICB2YXIgc3RyRGF5ID0gaWNhbFN0ci5zdWJzdHIoNiwgMik7XHJcbiAgICB2YXIgc3RySG91ciA9IGljYWxTdHIuc3Vic3RyKDksIDIpO1xyXG4gICAgdmFyIHN0ck1pbiA9IGljYWxTdHIuc3Vic3RyKDExLCAyKTtcclxuICAgIHZhciBzdHJTZWMgPSBpY2FsU3RyLnN1YnN0cigxMywgMik7XHJcblxyXG4gICAgdmFyIG9EYXRlID0gbmV3IERhdGUoc3RyWWVhciwgc3RyTW9udGgsIHN0ckRheSwgc3RySG91ciwgc3RyTWluLCBzdHJTZWMpO1xyXG5cclxuICAgIHJldHVybiBvRGF0ZTtcclxufVxyXG5cclxuY2xhc3MgaWNzdG9vbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBldmVudHM6IFtdXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNoYW5nZUhhbmRsZXIgPSBlID0+IHtcclxuICAgICAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07XHJcbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgdmFyIGV2ZW50cyA9IFtdO1xyXG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGxpbmVzID0gdGhpcy5yZXN1bHQuc3BsaXQoXCJcXG5cIik7XHJcbiAgICAgICAgICAgIHZhciByZWFkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBldmVudCA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBsaW5lID0gMDsgbGluZSA8IGxpbmVzLmxlbmd0aDsgbGluZSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGluZXNbbGluZV0uaW5jbHVkZXMoXCJCRUdJTlwiKSAmJiBsaW5lc1tsaW5lXS5pbmNsdWRlcyhcIlZFVkVOVFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lc1tsaW5lXS5pbmNsdWRlcyhcIkVORFwiKSAmJiBsaW5lc1tsaW5lXS5pbmNsdWRlcyhcIlZFVkVOVFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5wdXNoKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICByZWFkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocmVhZGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lc1tsaW5lXS5pbmNsdWRlcyhcIkRUU1RBUlRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RhcnRUaW1lID0gY2FsZW5EYXRlKGxpbmVzW2xpbmVdLnNwbGl0KFwiOlwiKVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lc1tsaW5lXS5pbmNsdWRlcyhcIkRURU5EXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmVuZFRpbWUgPSBjYWxlbkRhdGUobGluZXNbbGluZV0uc3BsaXQoXCI6XCIpWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmVzW2xpbmVdLnNwbGl0KFwiOlwiKVswXSA9PSBcIlNVTU1BUllcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC50aXRsZSA9IGxpbmVzW2xpbmVdLnNwbGl0KFwiOlwiKVsxXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuZXZlbnRzID0gZXZlbnRzO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICB2YXIgZXZlbnRMaXN0ID0gdGhpcy5zdGF0ZS5ldmVudHMubWFwKGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIDxFdmVudENhcmQgZXZlbnQ9e2V2ZW50fSAvPjtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8Q29udGFpbmVyIG1heFdpZHRoPVwibGdcIj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZmlsZVwiIG5hbWU9XCJmaWxlXCIgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VIYW5kbGVyfSAvPlxyXG4gICAgICAgICAgICAgICAgPGgxIHN0eWxlPXt7IGNvbG9yOiBcIndoaXRlXCIgfX0+6Kej5p6Q57WQ5p6cPC9oMT5cclxuICAgICAgICAgICAgICAgIHtldmVudExpc3R9XHJcbiAgICAgICAgICAgICAgICA8c3R5bGUgZ2xvYmFsIGpzeD57YFxyXG4gICAgICAgICAgICAgICAgICAgIGJvZHkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMzMzMzMzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDVweDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiA4MHB4IDAgNXB4IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2IoODAsIDgwLCA4MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYH08L3N0eWxlPlxyXG4gICAgICAgICAgICA8L0NvbnRhaW5lcj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBpY3N0b29sO1xyXG4iXX0= */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\imyua\\\\\\\\dev\\\\\\\\calendar\\\\\\\\pages\\\\\\\\icstool.js */\"));\n    }\n  }]);\n\n  return icstool;\n}(React.Component);\n\nexport default icstool;","map":{"version":3,"sources":["C:/Users/imyua/dev/calendar/pages/icstool.js"],"names":["React","Container","EventCard","toEventArray","lines","resolve","reject","events","tempEvent","line","length","includes","reading","push","event","startTime","calenDate","split","endTime","title","icalStr","strYear","substr","strMonth","strDay","strHour","strMin","strSec","oDate","Date","icstool","props","e","file","target","files","reader","FileReader","onload","result","state","readAsText","eventList","map","onChangeHandler","color","Component"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AAEA;;AACA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AACzB,SAAO,aAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,QAAIC,MAAM,GAAG,EAAb;AACA,QAAIC,SAAS,GAAG,EAAhB;;AACA,SAAK,IAAIC,IAAI,GAAG,CAAhB,EAAmBA,IAAI,GAAGL,KAAK,CAACM,MAAhC,EAAwCD,IAAI,EAA5C,EAAgD;AAC5C,UAAIL,KAAK,CAACK,IAAD,CAAL,CAAYE,QAAZ,CAAqB,OAArB,KAAiCP,KAAK,CAACK,IAAD,CAAL,CAAYE,QAAZ,CAAqB,QAArB,CAArC,EAAqE;AACjEC,QAAAA,OAAO,GAAG,IAAV;AACH,OAFD,MAEO,IAAIR,KAAK,CAACK,IAAD,CAAL,CAAYE,QAAZ,CAAqB,KAArB,KAA+BP,KAAK,CAACK,IAAD,CAAL,CAAYE,QAAZ,CAAqB,QAArB,CAAnC,EAAmE;AACtEJ,QAAAA,MAAM,CAACM,IAAP,CAAYC,KAAZ;AACAF,QAAAA,OAAO,GAAG,KAAV;AACH;;AACD,UAAIA,OAAJ,EAAa;AACT,YAAIR,KAAK,CAACK,IAAD,CAAL,CAAYE,QAAZ,CAAqB,SAArB,CAAJ,EAAqC;AACjCH,UAAAA,SAAS,CAACO,SAAV,GAAsBC,SAAS,CAACZ,KAAK,CAACK,IAAD,CAAL,CAAYQ,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAD,CAA/B;AACH,SAFD,MAEO,IAAIb,KAAK,CAACK,IAAD,CAAL,CAAYE,QAAZ,CAAqB,OAArB,CAAJ,EAAmC;AACtCH,UAAAA,SAAS,CAACU,OAAV,GAAoBF,SAAS,CAACZ,KAAK,CAACK,IAAD,CAAL,CAAYQ,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAD,CAA7B;AACH,SAFM,MAEA,IAAIb,KAAK,CAACK,IAAD,CAAL,CAAYQ,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,KAA6B,SAAjC,EAA4C;AAC/CT,UAAAA,SAAS,CAACW,KAAV,GAAkBf,KAAK,CAACK,IAAD,CAAL,CAAYQ,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAlB;AACH;AACJ;AACJ;AACJ,GApBM,CAAP;AAqBH;AAED;;;AACA,SAASD,SAAT,CAAmBI,OAAnB,EAA4B;AACxB,MAAIC,OAAO,GAAGD,OAAO,CAACE,MAAR,CAAe,CAAf,EAAkB,CAAlB,CAAd;AACA,MAAIC,QAAQ,GAAG,UAASH,OAAO,CAACE,MAAR,CAAe,CAAf,EAAkB,CAAlB,CAAT,EAA+B,EAA/B,IAAqC,CAApD;AACA,MAAIE,MAAM,GAAGJ,OAAO,CAACE,MAAR,CAAe,CAAf,EAAkB,CAAlB,CAAb;AACA,MAAIG,OAAO,GAAGL,OAAO,CAACE,MAAR,CAAe,CAAf,EAAkB,CAAlB,CAAd;AACA,MAAII,MAAM,GAAGN,OAAO,CAACE,MAAR,CAAe,EAAf,EAAmB,CAAnB,CAAb;AACA,MAAIK,MAAM,GAAGP,OAAO,CAACE,MAAR,CAAe,EAAf,EAAmB,CAAnB,CAAb;AAEA,MAAIM,KAAK,GAAG,IAAIC,IAAJ,CAASR,OAAT,EAAkBE,QAAlB,EAA4BC,MAA5B,EAAoCC,OAApC,EAA6CC,MAA7C,EAAqDC,MAArD,CAAZ;AAEA,SAAOC,KAAP;AACH;;IAEKE,O;;;;;AACF,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,iFAAMA,KAAN;;AADe,sEAOD,UAAAC,CAAC,EAAI;AACnB,UAAMC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb;AACA,UAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;AACA,UAAI9B,MAAM,GAAG,EAAb;;AACA6B,MAAAA,MAAM,CAACE,MAAP,GAAgB,YAAW;AACvB,YAAIlC,KAAK,GAAG,KAAKmC,MAAL,CAAYtB,KAAZ,CAAkB,IAAlB,CAAZ;AACA,YAAIL,OAAO,GAAG,KAAd;AACA,YAAIE,KAAK,GAAG,EAAZ;;AACA,aAAK,IAAIL,IAAI,GAAG,CAAhB,EAAmBA,IAAI,GAAGL,KAAK,CAACM,MAAhC,EAAwCD,IAAI,EAA5C,EAAgD;AAC5C,cAAIL,KAAK,CAACK,IAAD,CAAL,CAAYE,QAAZ,CAAqB,OAArB,KAAiCP,KAAK,CAACK,IAAD,CAAL,CAAYE,QAAZ,CAAqB,QAArB,CAArC,EAAqE;AACjEC,YAAAA,OAAO,GAAG,IAAV;AACH,WAFD,MAEO,IAAIR,KAAK,CAACK,IAAD,CAAL,CAAYE,QAAZ,CAAqB,KAArB,KAA+BP,KAAK,CAACK,IAAD,CAAL,CAAYE,QAAZ,CAAqB,QAArB,CAAnC,EAAmE;AACtEJ,YAAAA,MAAM,CAACM,IAAP,CAAYC,KAAZ;AACAF,YAAAA,OAAO,GAAG,KAAV;AACH;;AACD,cAAIA,OAAJ,EAAa;AACT,gBAAIR,KAAK,CAACK,IAAD,CAAL,CAAYE,QAAZ,CAAqB,SAArB,CAAJ,EAAqC;AACjCG,cAAAA,KAAK,CAACC,SAAN,GAAkBC,SAAS,CAACZ,KAAK,CAACK,IAAD,CAAL,CAAYQ,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAD,CAA3B;AACH,aAFD,MAEO,IAAIb,KAAK,CAACK,IAAD,CAAL,CAAYE,QAAZ,CAAqB,OAArB,CAAJ,EAAmC;AACtCG,cAAAA,KAAK,CAACI,OAAN,GAAgBF,SAAS,CAACZ,KAAK,CAACK,IAAD,CAAL,CAAYQ,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAD,CAAzB;AACH,aAFM,MAEA,IAAIb,KAAK,CAACK,IAAD,CAAL,CAAYQ,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,KAA6B,SAAjC,EAA4C;AAC/CH,cAAAA,KAAK,CAACK,KAAN,GAAcf,KAAK,CAACK,IAAD,CAAL,CAAYQ,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAd;AACH;AACJ;AACJ;;AAED,aAAKuB,KAAL,CAAWjC,MAAX,GAAoBA,MAApB;AACH,OAvBD;;AAwBA6B,MAAAA,MAAM,CAACK,UAAP,CAAkBR,IAAlB;AACH,KApCkB;;AAEf,UAAKO,KAAL,GAAa;AACTjC,MAAAA,MAAM,EAAE;AADC,KAAb;AAFe;AAKlB;;;;6BAiCQ;AACL,UAAImC,SAAS,GAAG,KAAKF,KAAL,CAAWjC,MAAX,CAAkBoC,GAAlB,CAAsB,UAAA7B,KAAK,EAAI;AAC3C,eAAO,MAAC,SAAD;AAAW,UAAA,KAAK,EAAEA,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH,OAFe,CAAhB;AAGA,aACI,MAAC,SAAD;AAAW,QAAA,QAAQ,EAAC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,MAAxB;AAA+B,QAAA,QAAQ,EAAE,KAAK8B,eAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAI,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAFJ,EAGKH,SAHL;AAAA;AAAA;AAAA,wmNADJ;AAyBH;;;;EApEiB1C,KAAK,CAAC8C,S;;AAuE5B,eAAehB,OAAf","sourcesContent":["import React from \"react\";\r\nimport Container from \"@material-ui/core/container\";\r\nimport EventCard from \"../comps/eventCard\";\r\n\r\n/** Parse ics file string into event array */\r\nfunction toEventArray(lines) {\r\n    return new Promise((resolve, reject) => {\r\n        var events = [];\r\n        var tempEvent = {};\r\n        for (var line = 0; line < lines.length; line++) {\r\n            if (lines[line].includes(\"BEGIN\") && lines[line].includes(\"VEVENT\")) {\r\n                reading = true;\r\n            } else if (lines[line].includes(\"END\") && lines[line].includes(\"VEVENT\")) {\r\n                events.push(event);\r\n                reading = false;\r\n            }\r\n            if (reading) {\r\n                if (lines[line].includes(\"DTSTART\")) {\r\n                    tempEvent.startTime = calenDate(lines[line].split(\":\")[1]);\r\n                } else if (lines[line].includes(\"DTEND\")) {\r\n                    tempEvent.endTime = calenDate(lines[line].split(\":\")[1]);\r\n                } else if (lines[line].split(\":\")[0] == \"SUMMARY\") {\r\n                    tempEvent.title = lines[line].split(\":\")[1];\r\n                }\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n/** Parse string of ics date format into date object */\r\nfunction calenDate(icalStr) {\r\n    var strYear = icalStr.substr(0, 4);\r\n    var strMonth = parseInt(icalStr.substr(4, 2), 10) - 1;\r\n    var strDay = icalStr.substr(6, 2);\r\n    var strHour = icalStr.substr(9, 2);\r\n    var strMin = icalStr.substr(11, 2);\r\n    var strSec = icalStr.substr(13, 2);\r\n\r\n    var oDate = new Date(strYear, strMonth, strDay, strHour, strMin, strSec);\r\n\r\n    return oDate;\r\n}\r\n\r\nclass icstool extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            events: []\r\n        };\r\n    }\r\n\r\n    onChangeHandler = e => {\r\n        const file = e.target.files[0];\r\n        var reader = new FileReader();\r\n        var events = [];\r\n        reader.onload = function() {\r\n            var lines = this.result.split(\"\\n\");\r\n            var reading = false;\r\n            var event = {};\r\n            for (var line = 0; line < lines.length; line++) {\r\n                if (lines[line].includes(\"BEGIN\") && lines[line].includes(\"VEVENT\")) {\r\n                    reading = true;\r\n                } else if (lines[line].includes(\"END\") && lines[line].includes(\"VEVENT\")) {\r\n                    events.push(event);\r\n                    reading = false;\r\n                }\r\n                if (reading) {\r\n                    if (lines[line].includes(\"DTSTART\")) {\r\n                        event.startTime = calenDate(lines[line].split(\":\")[1]);\r\n                    } else if (lines[line].includes(\"DTEND\")) {\r\n                        event.endTime = calenDate(lines[line].split(\":\")[1]);\r\n                    } else if (lines[line].split(\":\")[0] == \"SUMMARY\") {\r\n                        event.title = lines[line].split(\":\")[1];\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.state.events = events;\r\n        };\r\n        reader.readAsText(file);\r\n    };\r\n\r\n    render() {\r\n        var eventList = this.state.events.map(event => {\r\n            return <EventCard event={event} />;\r\n        });\r\n        return (\r\n            <Container maxWidth=\"lg\">\r\n                <input type=\"file\" name=\"file\" onChange={this.onChangeHandler} />\r\n                <h1 style={{ color: \"white\" }}>解析結果</h1>\r\n                {eventList}\r\n                <style global jsx>{`\r\n                    body {\r\n                        background: #333333;\r\n                    }\r\n                    ::-webkit-scrollbar {\r\n                        width: 5px;\r\n                    }\r\n                    ::-webkit-scrollbar-track {\r\n                        -webkit-border-radius: 10px;\r\n                        border-radius: 10px;\r\n                        margin: 80px 0 5px 0;\r\n                    }\r\n                    ::-webkit-scrollbar-thumb {\r\n                        -webkit-border-radius: 4px;\r\n                        border-radius: 4px;\r\n                        background: rgb(80, 80, 80);\r\n                    }\r\n                `}</style>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nexport default icstool;\r\n"]},"metadata":{},"sourceType":"module"}