{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nvar _jsxFileName = \"C:\\\\Users\\\\imyua\\\\dev\\\\calendar\\\\pages\\\\index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Container from \"@material-ui/core/container\";\nimport Timeline from \"../comps/timeline\";\nimport fetch from \"isomorphic-unfetch\";\nimport { Event } from \"../classes\";\n/** Parse event of json file into Event object */\n\nfunction parseEvent(jsonUserData) {\n  return new _Promise(function (resolve) {\n    jsonUserData.calendars.map(function (calendar) {\n      console.log(calendar.events.length);\n      var Events = new Array(calendar.events.length);\n      calendar.events.map(function (event) {\n        Events.push(new Event(event.title, event.cal, event.startTime, event.endTime));\n      });\n      calendar.events = Events;\n    });\n    console.log(jsonUserData.calendars[0].events[0] instanceof Event);\n    resolve(jsonUserData);\n  });\n}\n/** Parse dates of json file into Date object */\n\n\nfunction parseDate(jsonUserData) {\n  return new _Promise(function (resolve) {\n    jsonUserData.calendars.map(function (calendar) {\n      calendar.events.map(function _callee(event) {\n        return _regeneratorRuntime.async(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.startTime = new Date(event.startTime);\n                event.endTime = new Date(event.endTime);\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        });\n      });\n    });\n    resolve(jsonUserData);\n  });\n}\n\nvar index =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(index, _React$Component);\n\n  function index() {\n    _classCallCheck(this, index);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(index).apply(this, arguments));\n  }\n\n  _createClass(index, [{\n    key: \"render\",\n    value: function render() {\n      var timeline = {\n        overflowY: \"scroll\",\n        maxHeight: \"90vh\",\n        padding: 24\n      }; // console.log(this.props.userdata.calendars[0].events[0] instanceof Event);\n\n      return __jsx(Container, {\n        maxWidth: \"sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        style: timeline,\n        className: \"jsx-2817667622\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, __jsx(Timeline, {\n        events: this.props.userdata.calendars[0].events,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      })), __jsx(_JSXStyle, {\n        id: \"2817667622\",\n        __self: this\n      }, \"body{background:#333333;}::-webkit-scrollbar{width:5px;}::-webkit-scrollbar-track{-webkit-border-radius:10px;border-radius:10px;margin:80px 0 5px 0;}::-webkit-scrollbar-thumb{-webkit-border-radius:4px;border-radius:4px;background:rgb(80,80,80);}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcaW15dWFcXGRldlxcY2FsZW5kYXJcXHBhZ2VzXFxpbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF5RG1DLEFBRzRDLEFBR1QsQUFHaUIsQUFLRCxVQVA5QixTQUhBLE9BV3NCLENBTEMsaUJBTVEsRUFMUCxvQkFDeEIsR0FLQSIsImZpbGUiOiJDOlxcVXNlcnNcXGlteXVhXFxkZXZcXGNhbGVuZGFyXFxwYWdlc1xcaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBDb250YWluZXIgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL2NvbnRhaW5lclwiO1xyXG5pbXBvcnQgVGltZWxpbmUgZnJvbSBcIi4uL2NvbXBzL3RpbWVsaW5lXCI7XHJcbmltcG9ydCBmZXRjaCBmcm9tIFwiaXNvbW9ycGhpYy11bmZldGNoXCI7XHJcbmltcG9ydCB7IEV2ZW50IH0gZnJvbSBcIi4uL2NsYXNzZXNcIjtcclxuXHJcbi8qKiBQYXJzZSBldmVudCBvZiBqc29uIGZpbGUgaW50byBFdmVudCBvYmplY3QgKi9cclxuZnVuY3Rpb24gcGFyc2VFdmVudChqc29uVXNlckRhdGEpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgICBqc29uVXNlckRhdGEuY2FsZW5kYXJzLm1hcChjYWxlbmRhciA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhbGVuZGFyLmV2ZW50cy5sZW5ndGgpO1xyXG4gICAgICAgICAgICB2YXIgRXZlbnRzID0gbmV3IEFycmF5KGNhbGVuZGFyLmV2ZW50cy5sZW5ndGgpO1xyXG4gICAgICAgICAgICBjYWxlbmRhci5ldmVudHMubWFwKGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIEV2ZW50cy5wdXNoKG5ldyBFdmVudChldmVudC50aXRsZSwgZXZlbnQuY2FsLCBldmVudC5zdGFydFRpbWUsIGV2ZW50LmVuZFRpbWUpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNhbGVuZGFyLmV2ZW50cyA9IEV2ZW50cztcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhqc29uVXNlckRhdGEuY2FsZW5kYXJzWzBdLmV2ZW50c1swXSBpbnN0YW5jZW9mIEV2ZW50KTtcclxuICAgICAgICByZXNvbHZlKGpzb25Vc2VyRGF0YSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyoqIFBhcnNlIGRhdGVzIG9mIGpzb24gZmlsZSBpbnRvIERhdGUgb2JqZWN0ICovXHJcbmZ1bmN0aW9uIHBhcnNlRGF0ZShqc29uVXNlckRhdGEpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgICBqc29uVXNlckRhdGEuY2FsZW5kYXJzLm1hcChjYWxlbmRhciA9PiB7XHJcbiAgICAgICAgICAgIGNhbGVuZGFyLmV2ZW50cy5tYXAoYXN5bmMgZXZlbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RhcnRUaW1lID0gbmV3IERhdGUoZXZlbnQuc3RhcnRUaW1lKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LmVuZFRpbWUgPSBuZXcgRGF0ZShldmVudC5lbmRUaW1lKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmVzb2x2ZShqc29uVXNlckRhdGEpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmNsYXNzIGluZGV4IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBhc3luYyBnZXRJbml0aWFsUHJvcHMoKSB7XHJcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2dldHVzZXJkYXRhXCIpO1xyXG4gICAgICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXMuanNvbigpO1xyXG4gICAgICAgIGNvbnN0IGpzb24xID0gYXdhaXQgcGFyc2VEYXRlKGpzb24pO1xyXG4gICAgICAgIGNvbnN0IHVzZXJkYXRhID0gYXdhaXQgcGFyc2VFdmVudChqc29uMSk7XHJcbiAgICAgICAgcmV0dXJuIHsgdXNlcmRhdGE6IHVzZXJkYXRhIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHRpbWVsaW5lID0ge1xyXG4gICAgICAgICAgICBvdmVyZmxvd1k6IFwic2Nyb2xsXCIsXHJcbiAgICAgICAgICAgIG1heEhlaWdodDogXCI5MHZoXCIsXHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDI0XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnByb3BzLnVzZXJkYXRhLmNhbGVuZGFyc1swXS5ldmVudHNbMF0gaW5zdGFuY2VvZiBFdmVudCk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPENvbnRhaW5lciBtYXhXaWR0aD1cInNtXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt0aW1lbGluZX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPFRpbWVsaW5lIGV2ZW50cz17dGhpcy5wcm9wcy51c2VyZGF0YS5jYWxlbmRhcnNbMF0uZXZlbnRzfSAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPHN0eWxlIGdsb2JhbCBqc3g+e2BcclxuICAgICAgICAgICAgICAgICAgICBib2R5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIzMzMzMzMztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgOjotd2Via2l0LXNjcm9sbGJhciB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiA1cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogODBweCAwIDVweCAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiKDgwLCA4MCwgODApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGB9PC9zdHlsZT5cclxuICAgICAgICAgICAgPC9Db250YWluZXI+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgaW5kZXg7XHJcbiJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\imyua\\\\\\\\dev\\\\\\\\calendar\\\\\\\\pages\\\\\\\\index.js */\"));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps() {\n      var res, json, json1, userdata;\n      return _regeneratorRuntime.async(function getInitialProps$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(fetch(\"http://localhost:3000/api/getuserdata\"));\n\n            case 2:\n              res = _context2.sent;\n              _context2.next = 5;\n              return _regeneratorRuntime.awrap(res.json());\n\n            case 5:\n              json = _context2.sent;\n              _context2.next = 8;\n              return _regeneratorRuntime.awrap(parseDate(json));\n\n            case 8:\n              json1 = _context2.sent;\n              _context2.next = 11;\n              return _regeneratorRuntime.awrap(parseEvent(json1));\n\n            case 11:\n              userdata = _context2.sent;\n              return _context2.abrupt(\"return\", {\n                userdata: userdata\n              });\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      });\n    }\n  }]);\n\n  return index;\n}(React.Component);\n\nexport default index;","map":{"version":3,"sources":["C:/Users/imyua/dev/calendar/pages/index.js"],"names":["React","Container","Timeline","fetch","Event","parseEvent","jsonUserData","resolve","calendars","map","calendar","console","log","events","length","Events","Array","event","push","title","cal","startTime","endTime","parseDate","Date","index","timeline","overflowY","maxHeight","padding","props","userdata","res","json","json1","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Container from \"@material-ui/core/container\";\r\nimport Timeline from \"../comps/timeline\";\r\nimport fetch from \"isomorphic-unfetch\";\r\nimport { Event } from \"../classes\";\r\n\r\n/** Parse event of json file into Event object */\r\nfunction parseEvent(jsonUserData) {\r\n    return new Promise(resolve => {\r\n        jsonUserData.calendars.map(calendar => {\r\n            console.log(calendar.events.length);\r\n            var Events = new Array(calendar.events.length);\r\n            calendar.events.map(event => {\r\n                Events.push(new Event(event.title, event.cal, event.startTime, event.endTime));\r\n            });\r\n            calendar.events = Events;\r\n        });\r\n        console.log(jsonUserData.calendars[0].events[0] instanceof Event);\r\n        resolve(jsonUserData);\r\n    });\r\n}\r\n\r\n/** Parse dates of json file into Date object */\r\nfunction parseDate(jsonUserData) {\r\n    return new Promise(resolve => {\r\n        jsonUserData.calendars.map(calendar => {\r\n            calendar.events.map(async event => {\r\n                event.startTime = new Date(event.startTime);\r\n                event.endTime = new Date(event.endTime);\r\n            });\r\n        });\r\n        resolve(jsonUserData);\r\n    });\r\n}\r\n\r\nclass index extends React.Component {\r\n    static async getInitialProps() {\r\n        const res = await fetch(\"http://localhost:3000/api/getuserdata\");\r\n        const json = await res.json();\r\n        const json1 = await parseDate(json);\r\n        const userdata = await parseEvent(json1);\r\n        return { userdata: userdata };\r\n    }\r\n\r\n    render() {\r\n        const timeline = {\r\n            overflowY: \"scroll\",\r\n            maxHeight: \"90vh\",\r\n            padding: 24\r\n        };\r\n        // console.log(this.props.userdata.calendars[0].events[0] instanceof Event);\r\n        return (\r\n            <Container maxWidth=\"sm\">\r\n                <div style={timeline}>\r\n                    <Timeline events={this.props.userdata.calendars[0].events} />\r\n                </div>\r\n\r\n                <style global jsx>{`\r\n                    body {\r\n                        background: #333333;\r\n                    }\r\n                    ::-webkit-scrollbar {\r\n                        width: 5px;\r\n                    }\r\n                    ::-webkit-scrollbar-track {\r\n                        -webkit-border-radius: 10px;\r\n                        border-radius: 10px;\r\n                        margin: 80px 0 5px 0;\r\n                    }\r\n                    ::-webkit-scrollbar-thumb {\r\n                        -webkit-border-radius: 4px;\r\n                        border-radius: 4px;\r\n                        background: rgb(80, 80, 80);\r\n                    }\r\n                `}</style>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nexport default index;\r\n"]},"metadata":{},"sourceType":"module"}