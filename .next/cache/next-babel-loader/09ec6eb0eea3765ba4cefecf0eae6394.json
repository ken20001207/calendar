{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\imyua\\\\dev\\\\calendar\\\\comps\\\\eventCard.js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { Event } from \"../classes\";\n\nclass EventCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      elevation: 0\n    };\n    this.handleMouseOver = this.handleMouseOver.bind(this);\n    this.handleMouseLeave = this.handleMouseLeave.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleEmptyCardClick = this.handleEmptyCardClick.bind(this);\n  }\n\n  handleMouseOver() {\n    this.setState({\n      elevation: 20\n    });\n  }\n\n  handleMouseLeave() {\n    this.setState({\n      elevation: 0\n    });\n  }\n\n  handleClick() {\n    this.props.openEventEditDialog(this.props.event);\n  }\n\n  handleEmptyCardClick() {\n    this.props.openEventCreateDialog(this.props.event);\n  }\n\n  emptyCard(startTime, endTime) {\n    endTime = endTime;\n    startTime = startTime;\n    const duration = (endTime - startTime) / 60000;\n    var cardStyle = {\n      height: duration,\n      backgroundColor: \"transparent\",\n      borderBottomStyle: endTime.getMinutes() == 0 ? \"solid\" : \"none\",\n      borderBottomColor: \"#444444\",\n      borderBottomWidth: 1,\n      borderTopStyle: startTime.getMinutes() == 0 ? \"solid\" : \"none\",\n      borderTopColor: \"#444444\",\n      borderTopWidth: 1\n    };\n    return __jsx(\"div\", {\n      style: cardStyle,\n      key: startTime.getTime(),\n      onClick: this.handleEmptyCardClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    });\n  }\n\n  render() {\n    if (this.props.event instanceof Event) {\n      if (this.props.event.isEmpty) {\n        return EmptySections(this.props.event.startTime, this.props.event.endTime).map(emptyCard => {\n          return emptyCard;\n        });\n      } else {\n        const style = {\n          height: this.props.height != undefined ? this.props.height : this.props.event.duration,\n          backgroundImage: \"linear-gradient(315deg, \" + this.props.event.color[0] + \" 0%, \" + this.props.event.color[1] + \" 100%)\",\n          fontSize: 8,\n          paddingLeft: 16,\n          marginTop: this.props.height != undefined ? 15 : 0,\n          paddingTop: 6,\n          paddingBottom: 6\n        };\n        /** compose event info of card */\n\n        var lineAmount = this.props.height != undefined ? parseInt(this.props.height / 20) > 1 ? parseInt(this.props.height / 20) - 1 : 1 : parseInt(this.props.event.duration / 20) > 1 ? parseInt(this.props.event.duration / 20) - 1 : 1;\n        var eventInfo = [];\n        eventInfo.push(this.props.event.isAllDayEvent() ? __jsx(\"p\", {\n          key: \"title\",\n          style: {\n            color: \"white\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, this.props.event.title, \" \") : __jsx(\"p\", {\n          key: \"title\",\n          style: {\n            color: \"white\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, this.props.event.title, \" \", __jsx(\"strong\", {\n          style: {\n            marginLeft: 16,\n            color: \"rgba(255,255,255,0.4)\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, this.props.event.getDurationString())));\n        if (!this.props.event.isAllDayEvent()) eventInfo.push(__jsx(\"p\", {\n          style: {\n            color: \"rgba(255,255,255,0.8)\"\n          },\n          key: \"duration\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, this.props.event.duration, \" \\u5206\\u9418\"));else {\n          eventInfo.push(__jsx(\"p\", {\n            style: {\n              color: \"rgba(255,255,255,0.8)\"\n            },\n            key: \"duration\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          }, \"\\u5168\\u5929\\u4E8B\\u4EF6\"));\n        }\n        eventInfo.push(__jsx(\"p\", {\n          style: {\n            color: \"rgba(255,255,255,0.8)\"\n          },\n          key: \"cal\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, \"Event ID : \", this.props.event.id));\n        return __jsx(Paper, {\n          style: style,\n          elevation: this.state.elevation,\n          onMouseEnter: this.handleMouseOver,\n          onMouseLeave: this.handleMouseLeave,\n          onClick: this.handleClick,\n          key: this.props.event.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, eventInfo.slice(0, lineAmount).map(info => {\n          return info;\n        }));\n      }\n    } else {\n      console.error(\"渲染事件卡片時接收到了不符合規範的 Event 物件。\");\n      return null;\n    }\n  }\n\n}\n\nexport default EventCard;","map":{"version":3,"sources":["C:/Users/imyua/dev/calendar/comps/eventCard.js"],"names":["React","Paper","Event","EventCard","Component","constructor","props","state","elevation","handleMouseOver","bind","handleMouseLeave","handleClick","handleEmptyCardClick","setState","openEventEditDialog","event","openEventCreateDialog","emptyCard","startTime","endTime","duration","cardStyle","height","backgroundColor","borderBottomStyle","getMinutes","borderBottomColor","borderBottomWidth","borderTopStyle","borderTopColor","borderTopWidth","getTime","render","isEmpty","EmptySections","map","style","undefined","backgroundImage","color","fontSize","paddingLeft","marginTop","paddingTop","paddingBottom","lineAmount","parseInt","eventInfo","push","isAllDayEvent","title","marginLeft","getDurationString","id","slice","info","console","error"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { Event } from \"../classes\";\r\n\r\nclass EventCard extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            elevation: 0\r\n        };\r\n        this.handleMouseOver = this.handleMouseOver.bind(this);\r\n        this.handleMouseLeave = this.handleMouseLeave.bind(this);\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.handleEmptyCardClick = this.handleEmptyCardClick.bind(this);\r\n    }\r\n\r\n    handleMouseOver() {\r\n        this.setState({\r\n            elevation: 20\r\n        });\r\n    }\r\n\r\n    handleMouseLeave() {\r\n        this.setState({\r\n            elevation: 0\r\n        });\r\n    }\r\n\r\n    handleClick() {\r\n        this.props.openEventEditDialog(this.props.event);\r\n    }\r\n\r\n    handleEmptyCardClick() {\r\n        this.props.openEventCreateDialog(this.props.event);\r\n    }\r\n\r\n    emptyCard(startTime, endTime) {\r\n        endTime = endTime;\r\n        startTime = startTime;\r\n        const duration = (endTime - startTime) / 60000;\r\n        var cardStyle = {\r\n            height: duration,\r\n            backgroundColor: \"transparent\",\r\n            borderBottomStyle: endTime.getMinutes() == 0 ? \"solid\" : \"none\",\r\n            borderBottomColor: \"#444444\",\r\n            borderBottomWidth: 1,\r\n            borderTopStyle: startTime.getMinutes() == 0 ? \"solid\" : \"none\",\r\n            borderTopColor: \"#444444\",\r\n            borderTopWidth: 1\r\n        };\r\n        return (\r\n            <div style={cardStyle} key={startTime.getTime()} onClick={this.handleEmptyCardClick}>\r\n                {/** startTime.getHours() +\r\n                    \":\" +\r\n                    startTime.getMinutes() +\r\n                    \" - \" +\r\n                    endTime.getHours() +\r\n                    \":\" +\r\n                 endTime.getMinutes() */}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        if (this.props.event instanceof Event) {\r\n            if (this.props.event.isEmpty) {\r\n                return EmptySections(this.props.event.startTime, this.props.event.endTime).map(emptyCard => {\r\n                    return emptyCard;\r\n                });\r\n            } else {\r\n                const style = {\r\n                    height: this.props.height != undefined ? this.props.height : this.props.event.duration,\r\n                    backgroundImage: \"linear-gradient(315deg, \" + this.props.event.color[0] + \" 0%, \" + this.props.event.color[1] + \" 100%)\",\r\n                    fontSize: 8,\r\n                    paddingLeft: 16,\r\n                    marginTop: this.props.height != undefined ? 15 : 0,\r\n                    paddingTop: 6,\r\n                    paddingBottom: 6\r\n                };\r\n\r\n                /** compose event info of card */\r\n                var lineAmount =\r\n                    this.props.height != undefined\r\n                        ? parseInt(this.props.height / 20) > 1\r\n                            ? parseInt(this.props.height / 20) - 1\r\n                            : 1\r\n                        : parseInt(this.props.event.duration / 20) > 1\r\n                        ? parseInt(this.props.event.duration / 20) - 1\r\n                        : 1;\r\n                var eventInfo = [];\r\n                eventInfo.push(\r\n                    this.props.event.isAllDayEvent() ? (\r\n                        <p key=\"title\" style={{ color: \"white\" }}>\r\n                            {this.props.event.title}{\" \"}\r\n                        </p>\r\n                    ) : (\r\n                        <p key=\"title\" style={{ color: \"white\" }}>\r\n                            {this.props.event.title}{\" \"}\r\n                            <strong style={{ marginLeft: 16, color: \"rgba(255,255,255,0.4)\" }}>{this.props.event.getDurationString()}</strong>\r\n                        </p>\r\n                    )\r\n                );\r\n                if (!this.props.event.isAllDayEvent())\r\n                    eventInfo.push(\r\n                        <p style={{ color: \"rgba(255,255,255,0.8)\" }} key=\"duration\">\r\n                            {this.props.event.duration} 分鐘\r\n                        </p>\r\n                    );\r\n                else {\r\n                    eventInfo.push(\r\n                        <p style={{ color: \"rgba(255,255,255,0.8)\" }} key=\"duration\">\r\n                            全天事件\r\n                        </p>\r\n                    );\r\n                }\r\n                eventInfo.push(\r\n                    <p style={{ color: \"rgba(255,255,255,0.8)\" }} key=\"cal\">\r\n                        Event ID : {this.props.event.id}\r\n                    </p>\r\n                );\r\n                return (\r\n                    <Paper\r\n                        style={style}\r\n                        elevation={this.state.elevation}\r\n                        onMouseEnter={this.handleMouseOver}\r\n                        onMouseLeave={this.handleMouseLeave}\r\n                        onClick={this.handleClick}\r\n                        key={this.props.event.id}\r\n                    >\r\n                        {eventInfo.slice(0, lineAmount).map(info => {\r\n                            return info;\r\n                        })}\r\n                    </Paper>\r\n                );\r\n            }\r\n        } else {\r\n            console.error(\"渲染事件卡片時接收到了不符合規範的 Event 物件。\");\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\nexport default EventCard;\r\n"]},"metadata":{},"sourceType":"module"}