{"ast":null,"code":"import nextConnect from \"next-connect\";\nimport middleware from \"./database\";\nimport { User, Calendar, Event } from \"../../classes\";\nconst handler = nextConnect();\nhandler.use(middleware);\nhandler.get(async (req, res) => {\n  let doc = await req.db.collection(\"userdata\", function (err, collection) {\n    if (err) console.log(err);\n    collection.insertOne(new User({\n      username: \"ken20001207\",\n      calendars: [new Calendar({\n        title: \"預設行事曆1\",\n        color: [\"#fd3721\", \"#b721ff\"],\n        events: [new Event({\n          title: \"預設事項1\",\n          startTime: new Date(\"2020/2/23 10:00\"),\n          endTime: new Date(\"2020/2/23 11:00\"),\n          color: [\"#fd3721\", \"#b721ff\"]\n        }), new Event({\n          title: \"預設事項2\",\n          startTime: new Date(\"2020/2/24 13:00\"),\n          endTime: new Date(\"2020/2/24 14:00\"),\n          color: [\"#fd3721\", \"#b721ff\"]\n        }), new Event({\n          title: \"預設事項3\",\n          startTime: new Date(\"2020/2/23 16:00\"),\n          endTime: new Date(\"2020/2/23 17:00\"),\n          color: [\"#fd3721\", \"#b721ff\"]\n        })]\n      }), new Calendar({\n        title: \"預設行事曆2\",\n        color: [\"#B721FF\", \"#21D4FD\"],\n        events: [new Event({\n          title: \"預設事項4\",\n          startTime: new Date(\"2020/2/24 10:00\"),\n          endTime: new Date(\"2020/2/24 11:00\"),\n          color: [\"#B721FF\", \"#21D4FD\"]\n        }), new Event({\n          title: \"預設事項5\",\n          startTime: new Date(\"2020/2/23 12:00\"),\n          endTime: new Date(\"2020/2/23 13:30\"),\n          color: [\"#B721FF\", \"#21D4FD\"]\n        }), new Event({\n          title: \"預設事項6\",\n          startTime: new Date(\"2020/2/24 15:00\"),\n          endTime: new Date(\"2020/2/24 15:30\"),\n          color: [\"#B721FF\", \"#21D4FD\"]\n        })]\n      })]\n    }));\n  });\n  res.json({\n    code: 200\n  });\n});\nexport default handler;","map":null,"metadata":{},"sourceType":"module"}